(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"})(),(()=>{const e=(e,t,n)=>{const o=document.createElement("i");o.classList.add(`${e}-icon`),o.setAttribute("title",n),o.setAttribute("aria-hidden",!0);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.classList.add("feather",`feather-${e}`),a.setAttribute("fill","none"),a.setAttribute("stroke","currentColor"),a.setAttribute("stroke-linecap","round"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-width","2"),a.setAttribute("viewBox","0 0 24 24"),a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.innerHTML=t,o.append(a),o},t=function e(t){try{var n={};if(t.children.length>0)for(var o=0;o<t.children.length;o++){var a=t.children.item(o),s=a.nodeName;if(void 0===n[s])n[s]=e(a);else{if(void 0===n[s].push){var r=n[s];n[s]=[],n[s].push(r)}n[s].push(e(a))}}else n=t.textContent;return n}catch(e){console.log(e.message)}},n={defaultTheme:"dark",themeAttribute:"data-theme",iconsBasePath:"/css/icons"};class o{constructor(e,t,n,o){this.name=e,this.condition=t,this.action=n,this.id=o}static genCondit(e){return t=>e.some((e=>e===t||e===decodeURIComponent(t)||e===encodeURIComponent(t)))}}const a=[new o("any",(()=>!0),(n=>{n.log(`${n.entryName} - ${n.status}`);const o=n.config.themeAttribute;let a=localStorage.getItem(o);if(a||(localStorage.setItem(o,n.config.defaultTheme),a=n.config.defaultTheme),document?.documentElement?.setAttribute?.(o,a),window?.REMARK42?.changeTheme?.(a),setTimeout((()=>{window?.REMARK42?.changeTheme?.(a)}),1e3),n.DOMContentLoaded){document.body.classList.add("preload");const t=n.matchedRulesList.filter((e=>e.id));t[0]||n.err("No matching rules for the current page!"),document.body.setAttribute("id",t[0]?.id||"undefined");const o=document.getElementsByTagName("a"),a=["#"];[...o].forEach((e=>{const t=e?.getAttribute?.("href");try{if(t?.startsWith?.("https://")||t?.startsWith?.("http://"))e.setAttribute("target","_blank");else if(t.substring(1).split("").some((e=>a.includes(e)))||decodeURIComponent(t.substring(1)).split("").some((e=>a.includes(e)))){console.log(t);const n=encodeURIComponent(t);e.setAttribute("href",n)}}catch(e){}})),[...n.topnav.getElementsByTagName("a")].forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.add("clicked")}))})),[...document.querySelectorAll(".theme-changer")].forEach((t=>{const o=((t,n)=>{const o=document.createElement("button");o.addEventListener("click",n);const[a,s]=[e("moon",'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>',t),e("sun",'<circle cx="12" cy="12" r="5"></circle><line x1="12" x2="12" y1="1" y2="3"></line><line x1="12" x2="12" y1="21" y2="23"></line><line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line><line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line><line x1="1" x2="3" y1="12" y2="12"></line><line x1="21" x2="23" y1="12" y2="12"></line><line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line><line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line>',t)],r=document.createElement("span");return r.classList.add("sr-only"),r.textContent=t,o.append(a,s,r),o})("Toggle between dark and light mode",(()=>{const e=n.config.themeAttribute,o=document.documentElement.getAttribute(e);o!==localStorage.getItem(e)&&console.warn("Theme attribute - Local storage dismatch!");const a=o;"light"===a?(localStorage.setItem(e,"dark"),document.documentElement.setAttribute(e,"dark"),window?.REMARK42?.changeTheme?.("dark")):"dark"===a&&(localStorage.setItem(e,"light"),document.documentElement.setAttribute(e,"light"),window?.REMARK42?.changeTheme?.("light")),"sparse"===t.parentNode.getAttribute("class")&&t.classList.add("top-level")}));"sparse"===t.parentNode.getAttribute("class")&&t.classList.add("top-level"),t.append(o)}));const s=n.content?.getElementsByTagName("img");[...s].forEach((e=>{e.addEventListener("click",n.openImageOn)}))}else if(n.load){document.body.classList.remove("preload"),[...document.getElementsByClassName("linenr")].forEach((e=>{e.innerHTML=e.innerHTML.slice(0,-2).concat(" ")}));const e=(e=>{t(e);const n=document.createElement("div");n.id="socmedia";const o=document.createElement("div");o.className="socMediaBox",o.innerHTML=`<xml>${e.getElementsByTagName("socmedia")[0].outerHTML}</xml>`,n.append(o);const a=document.createElement("div");a.id="info";const s=document.createElement("div");s.innerHTML="Built with Emacs Org-mode • <a href='https://github.com/thewebmasterp/thewebmasterp.com'>Code</a> open sourced • Read the <a href='/privacy-policy.html'>Privacy Policy</a> • <a href=\"/contact.html\">Contact me</a>",a.appendChild(s);const r=document.createElement("div");r.id="bottom";const c=document.createElement("footer");return c.append(n,a,r),c})(document.getElementById("postamble").getElementsByTagName("xml")[0]);postamble.appendChild(e),[...document.getElementsByClassName("socMediaBox")].forEach((e=>{const o=e.getElementsByTagName("xml")[0];if(o){const a=t(o);e.innerHTML=((e,t)=>{const n=document.createElement("div");return n.className="socMediaBox",e=e.map((e=>{const n=document.createElement("a");n.className="profile",n.href=e.HREF;const o=document.createElement("i");o.title=e.LABEL;const a=new XMLHttpRequest;return a.open("GET",`${t}/${e.ICON}`,!1),a.send(null),200===a.status?o.innerHTML=a.responseText:console.error(`Error ${a.status} fetching icons.`),n.appendChild(o),n})),n.append(...e),n})(a.SOCMEDIA.ENTRY,n.config.iconsBasePath).outerHTML}else console.error("missing xml in .socMediaBox!")})),[...document.getElementsByTagName("p")].forEach((e=>{const t=/keep on rocking/g;if(t.test(e.innerHTML)){const n=function(){new Audio("/sounds/guitar-hard-rock.mp3").play()}.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");e.innerHTML=e.innerHTML.replace(t,`keep on <a href="javascript:;" onclick="( ${n} )()" >rocking</a>`)}}))}else n.beforeunload})),new o("indexPage",o.genCondit(["/","/index","/index.html","index"]),(e=>{e.log(`${e.entryName} - ${e.status}`);const t=()=>{const e=document.getElementById("welcome"),n=window.innerWidth;return e.style.bottom=n<550?"5em":"4em",e.style.opacity="1",t};if("scrollRestoration"in history&&(history.scrollRestoration="manual"),e.DOMContentLoaded){e.setActiveNavEntr("homeLink");const n=document.getElementById("preamble").cloneNode(!0),o=document.getElementById("content").cloneNode(!0),a=document.getElementById("postamble").cloneNode(!0),s=document.createElement("div");s.setAttribute("id","preConPosWrapper");const r=new Array(4).fill("").map(((e,t)=>{(e=document.createElement("div")).className="fakeBg",e.id=`fakeBg-${t+1}`;const n=new Array(2).fill("").map(((e,t)=>((e=document.createElement("div")).className=`fill-${t+1}`,e)));return e.append(...n),e}));s.append(n,o,a,...r);let c=new Array(6).fill("").map((e=>({})));c.forEach(((e,t)=>{e.classList=[],e.classList.push("layer",`layer-${t}`)})),c=c.map(((e,t,n)=>{const o=document.createElement("div");o.classList.add(...e.classList);let a="";if(t===n.length-1)a=s;else{const e=document.createElement("div");e.classList.add("img"),a=e}return o.append(a),o}));const l=document.createElement("div");l.setAttribute("id","parallax"),l.append(...c),document.body.innerHTML="",document.body.appendChild(l),setTimeout((()=>{window.addEventListener("resize",t(),!0)}),150)}else e.load||e.beforeunload}),"index"),new o("aboutPage",o.genCondit(["/about.html","/about","about"]),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){e.setActiveNavEntr("aboutLink");const t=document.getElementById("me");t.addEventListener("load",(()=>{const n=document.getElementById("text-aboutme"),o=t.parentElement,a=o.cloneNode(!0).outerHTML;o.remove(),n.innerHTML=`${a}<div>${n.innerHTML}</div>`,document.getElementById("me").addEventListener("click",e.openImageOn)}))}else e.load||e.beforeunload}),"about"),new o("contactPage",o.genCondit(["/contact.html","/contact","contact"]),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){const e=document.getElementById("contactme");e||console.error("No #contactme!"),e.addEventListener("submit",(()=>{const t=document.getElementById("subject"),n=e.getAttribute("action"),o="?subject=",a=n.indexOf(o)+o.length;e.setAttribute("action",n.slice(0,a)+t.value),console.log(t.value)}));const t="Hey thewebmasterp, hear this joke. ",n=["What are a shark's two most favorite words?","Why are ghosts such bad liars?","What do you call a singing laptop?","What did the buffalo say when his son left for college?","Why did the web developer drown?","Why was the JavaScript reality show cancelled after only one episode?","How can you tell that a web developer is working?","Why does no one like jokes about descriptions, keywords, or character encodings?","Why did the IP cross the subnet?","Why was the class upset that its parent died?","How do you comfort a JavaScript bug?","Why was the web developer fired from her job?","How does a web developer like his coffee?","Why did the web developer send a few extra bucks to her hosting provider?","Why couldn’t the programmer work late into the night?"].map((e=>`${t}${e}`)),o="alreadySeenJokes";let a=JSON.parse(localStorage.getItem(o))||[];a.length===n.length&&(localStorage.setItem(o,JSON.stringify([])),a=JSON.parse(localStorage.getItem(o))),a.forEach((e=>{n.splice(e,1)}));const s=Math.floor(Math.random()*n.length),r=JSON.parse(localStorage.getItem(o))||[];r.push(s),localStorage.setItem(o,JSON.stringify(r)),document.getElementById("message").setAttribute("placeholder",n[s])}else e.load||e.beforeunload}),"contact"),new o("blog",(e=>e.includes("blog")),(e=>{e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded?e.setActiveNavEntr("blogLink"):e.load||e.beforeunload})),new o("blogPage",o.genCondit(["/blog.html","/blog","blog"]),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){const e={"Desktop Setup/":{title:"Optimizing your Linux desktop setup for programming",description:"Let the articles under this section be a compendium - An essence of my hard-learned lessons regarding Linux and its configuration as a maximum productivity, programming desktop OS."},"webmaster_project/":{title:"Master JavaScript",description:"Every JavaScript thing that got my interest and inspired me, I'll write a post about it and it will be listed here."}};document.querySelectorAll("#entries > ul > li").forEach((t=>{const n=t.getElementsByTagName("b")[0],o=n.textContent;Object.keys(e).forEach((t=>{if(o===t){const o=document.createElement("div"),a=document.createElement("h3");a.textContent=e[t].title;const s=document.createElement("p");s.textContent=e[t].description;const r=document.createElement("ul");r.appendChild(s),o.append(a,r),n.parentNode.replaceChild(o,n)}}))}))}else e.load||e.beforeunload}),"blog"),new o("article",(e=>e.includes("blog")&&!o.genCondit(["/blog.html","/blog","blog"])(e)),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){const e=` <div id="ArticleMetaData">\nLast change: ${document.head.innerHTML.split("\n")[1].replace(/<!-- | -->/g,"")}<br>\nAuthor: <a href="/about.html">${document.querySelector('meta[name="author"]').content}</a>\n</div>`,t=`<p id="description">${document.querySelector('meta[name="description"]').content}</p>`,n=document.getElementById("content").getElementsByTagName("header")[0];n.innerHTML=n.innerHTML+e+t}else e.load||e.beforeunload}),"article"),new o("project",(e=>e.includes("projects")),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){e.setActiveNavEntr("aboutLink");const t=document.getElementById("slideshow"),n=[...t.childNodes].filter((e=>e?.classList?.contains("mySlides")));n.forEach(((e,t,n)=>{const o=document.createElement("div");o.className="numbertext",o.append(`${t+1} / ${n.length}`),e.prepend(o)}));const o=(e,t,n)=>{const o=document.createElement("a");return o.className=e,o.innerText=t,o.addEventListener("click",(()=>{c(s+=n)})),o};t.appendChild(o("prev","❮",-1)),t.appendChild(o("next","❯",1));const a=document.createElement("div");a.className="dots",n.forEach(((e,t)=>{const n=document.createElement("span");n.className="dot",n.addEventListener("click",(()=>{r(t+1)})),a.appendChild(n)})),t.parentNode.insertBefore(a,t.nextSibling);let s=1;function r(e){c(s=e)}function c(e){let t,n=document.getElementsByClassName("mySlides"),o=document.getElementsByClassName("dot");for(e>n.length&&(s=1),e<1&&(s=n.length),t=0;t<n.length;t++)n[t].style.display="none";for(t=0;t<o.length;t++)o[t].className=o[t].className.replace(" active","");n[s-1].style.display="block",o[s-1].className+=" active"}c(s)}else e.load||e.beforeunload}),"project")],s=e=>{((e,t)=>{const n=e.type,o=window.location.pathname,s=a.filter((e=>e.condition(o))),r={config:t,status:n,DOMContentLoaded:"DOMContentLoaded"===n,load:"load"===n,beforeunload:"beforeunload"===n,html:document.documentElement,head:document.head,body:document.body,preamble:document.getElementById("preamble"),topnav:document.getElementById("topnav"),content:document.getElementById("content"),postamble:document.getElementById("postamble"),footer:document.getElementsByTagName("footer")[0],log:console.log,err:console.error,matchedRulesList:s,setActiveNavEntr:e=>{document.getElementsByClassName(e)[0].setAttribute("data-current","")},openImageOn:e=>{const t=e.target.getAttribute("src");window.open(t,"_blank").focus()}};var c;s.forEach((e=>{"any"!==e.name&&(r.entryName=e.name||null,e.action(r))})),s.forEach((e=>{"any"===e.name&&(r.entryName="any",e.action(r))})),(c=window._paq=window._paq||[]).push(["trackPageView"]),c.push(["enableLinkTracking"]),function(){var e="//matomo.thewebmasterp.com/";c.push(["setTrackerUrl",e+"matomo.php"]),c.push(["setSiteId","1"]);var t=document,n=t.createElement("script"),o=t.getElementsByTagName("script")[0];n.async=!0,n.src=e+"matomo.js",o.parentNode.insertBefore(n,o)}()})(e,n)};window.addEventListener("DOMContentLoaded",s),window.addEventListener("load",s),window.addEventListener("beforeunload",s)})(),e.p})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBTTlCLE9BQ1J5TCxFQUFZNUssVUFBWSxNQUN4QmlCLEVBQU01QixPQUFPdUwsUUhqSWJJLEVBQVF6TyxPQUFPeU8sS0FBT3pPLE9BQU95TyxNQUFRLElBRXBDek0sS0FBSyxDQUFDLGtCQUNYeU0sRUFBS3pNLEtBQUssQ0FBQyx1QkFDVixXQUNDLElBQUkwTSxFQUFJLDhCQUNSRCxFQUFLek0sS0FBSyxDQUFDLGdCQUFpQjBNLEVBQUksZUFDaENELEVBQUt6TSxLQUFLLENBQUMsWUFBYSxNQUN4QixJQUFJMk0sRUFBSXZPLFNBQ05ULEVBQUlnUCxFQUFFek4sY0FBYyxVQUNwQjBOLEVBQUlELEVBQUVuTyxxQkFBcUIsVUFBVSxHQUN2Q2IsRUFBRWtQLE9BQVEsRUFDVmxQLEVBQUVXLElBQU1vTyxFQUFJLFlBQ1pFLEVBQUV0SSxXQUFXc0gsYUFBYWpPLEVBQUdpUCxHQVQ5QixJR3NJREUsQ0FBS2IsRUFBTzNMLElBRWR0QyxPQUFPd0YsaUJBQWlCLG1CQUFvQndJLEdBQzVDaE8sT0FBT3dGLGlCQUFpQixPQUFRd0ksR0FDaENoTyxPQUFPd0YsaUJBQWlCLGVBQWdCd0ksSSxHVy9JekIsSyIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL21hdG9tb0luaXQuanMiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL2NvbXBvbmVudHMvdGhlbWVDaGFuZ2VyLmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9qcy9zY3JpcHRzL3htbDJqc29uLmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvYWN0aW9ucy9hbnkuanMiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL2NvbXBvbmVudHMvZm9vdGVyR2VuZXJhdG9yLmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9qcy9jb21wb25lbnRzL3NvY2lhbE1lZGlhQm94R2VuZXJhdG9yLmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9qcy9hY3Rpb25zL2luZGV4UGFnZS5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvYWN0aW9ucy9hYm91dFBhZ2UuanMiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL2FjdGlvbnMvY29udGFjdFBhZ2UuanMiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL2FjdGlvbnMvYmxvZy5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvYWN0aW9ucy9ibG9nUGFnZS5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvYWN0aW9ucy9ibG9nQXJ0aWNsZS5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvYWN0aW9ucy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvc2Nzcy9zdHlsZS5zY3NzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmwgKyBcIi4uL1wiOyIsImNvbnN0IG1hdG9tb0luaXQgPSAoKSA9PiB7XG4gIHZhciBfcGFxID0gKHdpbmRvdy5fcGFxID0gd2luZG93Ll9wYXEgfHwgW10pXG4gIC8vIHRyYWNrZXIgbWV0aG9kcyBsaWtlIFwic2V0Q3VzdG9tRGltZW5zaW9uXCIgc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgXCJ0cmFja1BhZ2VWaWV3XCJcbiAgX3BhcS5wdXNoKFsndHJhY2tQYWdlVmlldyddKVxuICBfcGFxLnB1c2goWydlbmFibGVMaW5rVHJhY2tpbmcnXSlcbiAgOyhmdW5jdGlvbigpIHtcbiAgICB2YXIgdSA9ICcvL21hdG9tby50aGV3ZWJtYXN0ZXJwLmNvbS8nXG4gICAgX3BhcS5wdXNoKFsnc2V0VHJhY2tlclVybCcsIHUgKyAnbWF0b21vLnBocCddKVxuICAgIF9wYXEucHVzaChbJ3NldFNpdGVJZCcsICcxJ10pXG4gICAgdmFyIGQgPSBkb2N1bWVudCxcbiAgICAgIGcgPSBkLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLFxuICAgICAgcyA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdXG4gICAgZy5hc3luYyA9IHRydWVcbiAgICBnLnNyYyA9IHUgKyAnbWF0b21vLmpzJ1xuICAgIHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZywgcylcbiAgfSkoKVxufVxuXG5leHBvcnQgZGVmYXVsdCBtYXRvbW9Jbml0XG4iLCJjb25zdCBpY29uR2VuZXJhdG9yID0gKGxhYmVsLCBpbm5lckhUTUwsIHRvb2x0aXApID0+IHtcbiAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKVxuICBpY29uLmNsYXNzTGlzdC5hZGQoYCR7bGFiZWx9LWljb25gKVxuICBpY29uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0b29sdGlwKVxuICBpY29uLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKVxuICAvLyBZb3UgY2FuJ3QgcHJvcGVybHkgZ2VuZXJhdGUgc3ZnIGVsZW1lbnQgd2l0aCBkb2N1bWVudC5jcmVhdGVFbGVtZW50LiBZb3UgaGF2ZSB0byB1c2UgY3JlYXRlRWxlbWVudE5TLCBhcyBmb2xsb3dzOlxuICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpXG4gIC8vIEZvciBtb3JlIG9uIHRoZSB0b3BpYywgc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4NzM0NjI4L2hvdy1jYW4taS1zZXQtYW4tYXR0cmlidXRlLXdpdGgtY2FzZS1zZW5zaXRpdmUtbmFtZS1pbi1hLWphdmFzY3JpcHQtZ2VuZXJhdGVkLWVsLzI4NzM0OTU0XG4gIHN2Zy5jbGFzc0xpc3QuYWRkKCdmZWF0aGVyJywgYGZlYXRoZXItJHtsYWJlbH1gKVxuICBzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKVxuICBzdmcuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnY3VycmVudENvbG9yJylcbiAgc3ZnLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVjYXAnLCAncm91bmQnKVxuICBzdmcuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCAncm91bmQnKVxuICBzdmcuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMicpXG4gIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDI0IDI0JylcbiAgc3ZnLnNldEF0dHJpYnV0ZSgneG1sbnMnLCAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnKVxuICBzdmcuaW5uZXJIVE1MID0gaW5uZXJIVE1MXG4gIGljb24uYXBwZW5kKHN2ZylcblxuICByZXR1cm4gaWNvblxufVxuXG5jb25zdCB0aGVtZUNoYW5nZXJCdG4gPSAodG9vbHRpcCwgb25DbGljaykgPT4ge1xuICAvL2NvbnN0IGNvbnN0cnVjdGlvblNpdGVzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpXVxuXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG5cbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljaylcblxuICBjb25zdCBtb29uSW5IVE1MID1cbiAgICAnPHBhdGggZD1cIk0yMSAxMi43OUE5IDkgMCAxIDEgMTEuMjEgMyA3IDcgMCAwIDAgMjEgMTIuNzl6XCIvPidcbiAgY29uc3Qgc3VuSW5IVE1MID1cbiAgICAnPGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCI1XCI+PC9jaXJjbGU+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjFcIiB5Mj1cIjNcIj48L2xpbmU+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjIxXCIgeTI9XCIyM1wiPjwvbGluZT48bGluZSB4MT1cIjQuMjJcIiB4Mj1cIjUuNjRcIiB5MT1cIjQuMjJcIiB5Mj1cIjUuNjRcIj48L2xpbmU+PGxpbmUgeDE9XCIxOC4zNlwiIHgyPVwiMTkuNzhcIiB5MT1cIjE4LjM2XCIgeTI9XCIxOS43OFwiPjwvbGluZT48bGluZSB4MT1cIjFcIiB4Mj1cIjNcIiB5MT1cIjEyXCIgeTI9XCIxMlwiPjwvbGluZT48bGluZSB4MT1cIjIxXCIgeDI9XCIyM1wiIHkxPVwiMTJcIiB5Mj1cIjEyXCI+PC9saW5lPjxsaW5lIHgxPVwiNC4yMlwiIHgyPVwiNS42NFwiIHkxPVwiMTkuNzhcIiB5Mj1cIjE4LjM2XCI+PC9saW5lPjxsaW5lIHgxPVwiMTguMzZcIiB4Mj1cIjE5Ljc4XCIgeTE9XCI1LjY0XCIgeTI9XCI0LjIyXCI+PC9saW5lPidcbiAgY29uc3QgW21vb25JY29uLCBzdW5JY29uXSA9IFtcbiAgICBpY29uR2VuZXJhdG9yKCdtb29uJywgbW9vbkluSFRNTCwgdG9vbHRpcCksXG4gICAgaWNvbkdlbmVyYXRvcignc3VuJywgc3VuSW5IVE1MLCB0b29sdGlwKSxcbiAgXVxuXG4gIGNvbnN0IGJ0blRleHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICBidG5UZXh0RWwuY2xhc3NMaXN0LmFkZCgnc3Itb25seScpXG4gIGJ0blRleHRFbC50ZXh0Q29udGVudCA9IHRvb2x0aXBcblxuICBidXR0b24uYXBwZW5kKG1vb25JY29uLCBzdW5JY29uLCBidG5UZXh0RWwpXG5cbiAgcmV0dXJuIGJ1dHRvblxufVxuXG5leHBvcnQgZGVmYXVsdCB0aGVtZUNoYW5nZXJCdG5cbiIsImZ1bmN0aW9uIHhtbDJqc29uKHhtbCkge1xuICB0cnkge1xuICAgIHZhciBvYmogPSB7fVxuICAgIGlmICh4bWwuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4bWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB4bWwuY2hpbGRyZW4uaXRlbShpKVxuICAgICAgICB2YXIgbm9kZU5hbWUgPSBpdGVtLm5vZGVOYW1lXG5cbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbbm9kZU5hbWVdID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgb2JqW25vZGVOYW1lXSA9IHhtbDJqc29uKGl0ZW0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmpbbm9kZU5hbWVdLnB1c2ggPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhciBvbGQgPSBvYmpbbm9kZU5hbWVdXG5cbiAgICAgICAgICAgIG9ialtub2RlTmFtZV0gPSBbXVxuICAgICAgICAgICAgb2JqW25vZGVOYW1lXS5wdXNoKG9sZClcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqW25vZGVOYW1lXS5wdXNoKHhtbDJqc29uKGl0ZW0pKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iaiA9IHhtbC50ZXh0Q29udGVudFxuICAgIH1cbiAgICByZXR1cm4gb2JqXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlLm1lc3NhZ2UpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeG1sMmpzb25cbiIsImltcG9ydCBtYXRvbW9Jbml0IGZyb20gJy4vbWF0b21vSW5pdCdcblxuaW1wb3J0IGFueSBmcm9tICcuL2FjdGlvbnMvYW55J1xuaW1wb3J0IGluZGV4UGFnZSBmcm9tICcuL2FjdGlvbnMvaW5kZXhQYWdlJ1xuaW1wb3J0IGFib3V0UGFnZSBmcm9tICcuL2FjdGlvbnMvYWJvdXRQYWdlJ1xuaW1wb3J0IGNvbnRhY3RQYWdlIGZyb20gJy4vYWN0aW9ucy9jb250YWN0UGFnZSdcbmltcG9ydCBibG9nIGZyb20gJy4vYWN0aW9ucy9ibG9nJ1xuaW1wb3J0IGJsb2dQYWdlIGZyb20gJy4vYWN0aW9ucy9ibG9nUGFnZSdcbmltcG9ydCBibG9nQXJ0aWNsZSBmcm9tICcuL2FjdGlvbnMvYmxvZ0FydGljbGUnXG5pbXBvcnQgcHJvamVjdHMgZnJvbSAnLi9hY3Rpb25zL3Byb2plY3RzJ1xuXG5jb25zdCBDT05GSUcgPSB7XG4gIGRlZmF1bHRUaGVtZTogJ2RhcmsnLFxuICB0aGVtZUF0dHJpYnV0ZTogJ2RhdGEtdGhlbWUnLFxuICBpY29uc0Jhc2VQYXRoOiAnL2Nzcy9pY29ucycsXG59XG5cbmNsYXNzIFJ1bGUge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBjb25kaXRpb24sIGFjdGlvbiwgaWQpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb25cbiAgICB0aGlzLmFjdGlvbiA9IGFjdGlvblxuICAgIHRoaXMuaWQgPSBpZFxuICB9XG4gIHN0YXRpYyBnZW5Db25kaXQoYXJyKSB7XG4gICAgcmV0dXJuIHBhdGggPT4ge1xuICAgICAgLy8gTk9URTogU29tZXRpbWVzLCBpZiB0aGUgbGluayBoYXMgYSBkb3VibGVzaGxhc2gsIGl0IGZhaWxzIHRoZXNlIHRlc3RzIGFuZCB0aGVcbiAgICAgIC8vIHNpdGUgYnJlYWtzISBJIGRpZG4ndCByZXNvbHZlIHRoaXMgaW4gdGhlIGZyb250LWVuZCBiZWNhdXNlIGV2ZW4gaWYgaSBkaWQgc28sXG4gICAgICAvLyBpdCB3b3VsZG4ndCBzb2x2ZSB0aGUgcHJvYmxlbSBpbiBpdHMgcm9vdDogV2h5IHRoaXMgd2hvbGUgdGhpbmcgZGVwZW5kcyBvbiB0aGUgdXJsP1xuICAgICAgcmV0dXJuIGFyci5zb21lKHN0ciA9PiB7XG4gICAgICAgIC8qXG4gICAgICAgIGNvbnNvbGUubG9nKGBDb21wYXJpbmc6ICcke3N0cn0nIHdpdGggJyR7cGF0aH0nYClcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYD0+ICR7c3RyID09PSBwYXRofSB8fFxuICAgICAgICAgICAgJHtzdHIgPT09IGRlY29kZVVSSUNvbXBvbmVudChwYXRoKX0gfHxcbiAgICAgICAgICAgICR7c3RyID09PSBlbmNvZGVVUklDb21wb25lbnQocGF0aCl9YFxuICAgICAgICApKi9cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBzdHIgPT09IHBhdGggfHxcbiAgICAgICAgICBzdHIgPT09IGRlY29kZVVSSUNvbXBvbmVudChwYXRoKSB8fFxuICAgICAgICAgIHN0ciA9PT0gZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHJ1bGVzID0gW1xuICBuZXcgUnVsZSgnYW55JywgKCkgPT4gdHJ1ZSwgYW55KSxcbiAgbmV3IFJ1bGUoXG4gICAgJ2luZGV4UGFnZScsXG4gICAgUnVsZS5nZW5Db25kaXQoWycvJywgJy9pbmRleCcsICcvaW5kZXguaHRtbCcsICdpbmRleCddKSxcbiAgICBpbmRleFBhZ2UsXG4gICAgJ2luZGV4J1xuICApLFxuICBuZXcgUnVsZShcbiAgICAnYWJvdXRQYWdlJyxcbiAgICBSdWxlLmdlbkNvbmRpdChbJy9hYm91dC5odG1sJywgJy9hYm91dCcsICdhYm91dCddKSxcbiAgICBhYm91dFBhZ2UsXG4gICAgJ2Fib3V0J1xuICApLFxuICBuZXcgUnVsZShcbiAgICAnY29udGFjdFBhZ2UnLFxuICAgIFJ1bGUuZ2VuQ29uZGl0KFsnL2NvbnRhY3QuaHRtbCcsICcvY29udGFjdCcsICdjb250YWN0J10pLFxuICAgIGNvbnRhY3RQYWdlLFxuICAgICdjb250YWN0J1xuICApLFxuICBuZXcgUnVsZSgnYmxvZycsIHBhdGggPT4gcGF0aC5pbmNsdWRlcygnYmxvZycpLCBibG9nKSxcbiAgbmV3IFJ1bGUoXG4gICAgJ2Jsb2dQYWdlJyxcbiAgICBSdWxlLmdlbkNvbmRpdChbJy9ibG9nLmh0bWwnLCAnL2Jsb2cnLCAnYmxvZyddKSxcbiAgICBibG9nUGFnZSxcbiAgICAnYmxvZydcbiAgKSxcbiAgbmV3IFJ1bGUoXG4gICAgJ2FydGljbGUnLFxuICAgIHBhdGggPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgcGF0aC5pbmNsdWRlcygnYmxvZycpICYmXG4gICAgICAgICFSdWxlLmdlbkNvbmRpdChbJy9ibG9nLmh0bWwnLCAnL2Jsb2cnLCAnYmxvZyddKShwYXRoKVxuICAgICAgKVxuICAgIH0sXG4gICAgYmxvZ0FydGljbGUsXG4gICAgJ2FydGljbGUnXG4gICksXG4gIG5ldyBSdWxlKCdwcm9qZWN0JywgcGF0aCA9PiBwYXRoLmluY2x1ZGVzKCdwcm9qZWN0cycpLCBwcm9qZWN0cywgJ3Byb2plY3QnKSxcbl1cblxuY29uc3QgbWFpbiA9IChldmVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHN0YXR1cyA9IGV2ZW50LnR5cGVcbiAgY29uc3QgcGF0aG5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVcbiAgY29uc3QgbWF0Y2hpbmcgPSBydWxlcy5maWx0ZXIoZW50cnkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKGVudHJ5LmNvbmRpdGlvbilcbiAgICByZXR1cm4gZW50cnkuY29uZGl0aW9uKHBhdGhuYW1lKVxuICB9KVxuICBjb25zdCBzdGFydGVyUGFjayA9IHtcbiAgICBjb25maWc6IGNvbmZpZyxcbiAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICBET01Db250ZW50TG9hZGVkOiBzdGF0dXMgPT09ICdET01Db250ZW50TG9hZGVkJyxcbiAgICBsb2FkOiBzdGF0dXMgPT09ICdsb2FkJyxcbiAgICBiZWZvcmV1bmxvYWQ6IHN0YXR1cyA9PT0gJ2JlZm9yZXVubG9hZCcsXG4gICAgaHRtbDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgIGhlYWQ6IGRvY3VtZW50LmhlYWQsXG4gICAgYm9keTogZG9jdW1lbnQuYm9keSxcbiAgICBwcmVhbWJsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWFtYmxlJyksXG4gICAgdG9wbmF2OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9wbmF2JyksXG4gICAgY29udGVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKSxcbiAgICBwb3N0YW1ibGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0YW1ibGUnKSxcbiAgICBmb290ZXI6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdmb290ZXInKVswXSxcbiAgICBsb2c6IGNvbnNvbGUubG9nLFxuICAgIGVycjogY29uc29sZS5lcnJvcixcbiAgICBtYXRjaGVkUnVsZXNMaXN0OiBtYXRjaGluZyxcbiAgICBzZXRBY3RpdmVOYXZFbnRyOiBjbGFzc05hbWUgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpWzBdXG4gICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLWN1cnJlbnQnLCAnJylcbiAgICB9LFxuICAgIG9wZW5JbWFnZU9uOiBldmVudCA9PiB7XG4gICAgICBjb25zdCB1cmwgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdzcmMnKVxuICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJykuZm9jdXMoKVxuICAgIH0sXG4gIH1cbiAgbWF0Y2hpbmcuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgaWYgKGVudHJ5Lm5hbWUgPT09ICdhbnknKSByZXR1cm5cbiAgICBzdGFydGVyUGFjay5lbnRyeU5hbWUgPSBlbnRyeS5uYW1lIHx8IG51bGxcbiAgICBlbnRyeS5hY3Rpb24oc3RhcnRlclBhY2spXG4gIH0pXG4gIC8vICdhbnknIHNob3VsZCBiZSBjYWxsZWQgbGFzdFxuICBtYXRjaGluZy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICBpZiAoZW50cnkubmFtZSA9PT0gJ2FueScpIHtcbiAgICAgIHN0YXJ0ZXJQYWNrLmVudHJ5TmFtZSA9ICdhbnknXG4gICAgICBlbnRyeS5hY3Rpb24oc3RhcnRlclBhY2spXG4gICAgfVxuICB9KVxuXG4gIC8vIEluaXRpYWxpemUgbWF0b21vXG4gIG1hdG9tb0luaXQoKVxufVxuXG5jb25zdCBtYWluQ2FsbGVyID0gZXZlbnQgPT4ge1xuICBtYWluKGV2ZW50LCBDT05GSUcpXG59XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW5DYWxsZXIpIC8vIERPTSBsb2FkZWRcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgbWFpbkNhbGxlcikgLy8gRE9NICsgc3RhdGljIGxvYWRlZFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIG1haW5DYWxsZXIpIC8vIHVubG9hZGVkIChwcmVzc2luZyBiYWNrLCB2aXNpdGluZyBsaW5rIC4uLilcbiIsImltcG9ydCB0aGVtZUNoYW5nZXJCdG4gZnJvbSAnLi4vY29tcG9uZW50cy90aGVtZUNoYW5nZXInXG5pbXBvcnQgZm9vdGVyR2VuZXJhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvZm9vdGVyR2VuZXJhdG9yJ1xuaW1wb3J0IHNvY2lhbE1lZGlhQm94R2VuZXJhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvc29jaWFsTWVkaWFCb3hHZW5lcmF0b3InXG5cbmltcG9ydCB4bWwyanNvbiBmcm9tICcuLi9zY3JpcHRzL3htbDJqc29uJ1xuXG5jb25zdCBhbnkgPSBzcCA9PiB7XG4gIHNwLmxvZyhgJHtzcC5lbnRyeU5hbWV9IC0gJHtzcC5zdGF0dXN9YClcblxuICAvLyBJbml0aWFsaXplIHRoZW1lXG4gIGNvbnN0IGF0dHIgPSBzcC5jb25maWcudGhlbWVBdHRyaWJ1dGVcbiAgbGV0IHRoZW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYXR0cilcbiAgaWYgKCF0aGVtZSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGF0dHIsIHNwLmNvbmZpZy5kZWZhdWx0VGhlbWUpXG4gICAgdGhlbWUgPSBzcC5jb25maWcuZGVmYXVsdFRoZW1lXG4gIH1cbiAgZG9jdW1lbnQ/LmRvY3VtZW50RWxlbWVudD8uc2V0QXR0cmlidXRlPy4oYXR0ciwgdGhlbWUpXG4gIHdpbmRvdz8uUkVNQVJLNDI/LmNoYW5nZVRoZW1lPy4odGhlbWUpXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIC8vIEp1c3QgdG8gbWFrZSBzdXJlXG4gICAgd2luZG93Py5SRU1BUks0Mj8uY2hhbmdlVGhlbWU/Lih0aGVtZSlcbiAgfSwgMTAwMClcblxuICBpZiAoc3AuRE9NQ29udGVudExvYWRlZCkge1xuICAgIC8vIEFkZCBhIGNsYXNzIG9mIC5wcmVsb2FkIHRvIHRoZSBib2R5IChhbmQgd2hlbiB0aGUgd2hvbGUgcGFnZSBpcyBsb2FkZWQgLSBSZW1vdmUgaXQpLlxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncHJlbG9hZCcpXG5cbiAgICAvLyBBcHBseSB0aGUgYXBwcm9wcmlhdGUgaWQgdG8gdGhlIGN1cnJlbnQgcGFnZSdzIGJvZHlcbiAgICBjb25zdCB3aXRoSWRPbmx5ID0gc3AubWF0Y2hlZFJ1bGVzTGlzdC5maWx0ZXIoZW50cnkgPT4gZW50cnkuaWQpXG4gICAgaWYgKCF3aXRoSWRPbmx5WzBdKSB7XG4gICAgICBzcC5lcnIoJ05vIG1hdGNoaW5nIHJ1bGVzIGZvciB0aGUgY3VycmVudCBwYWdlIScpXG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdpZCcsIHdpdGhJZE9ubHlbMF0/LmlkIHx8ICd1bmRlZmluZWQnKVxuXG4gICAgLy8gRXZlcnkgbGluayBwb2ludGluZyB0byBhbiBvdXRzaWRlIHdlYnNpdGUgc2hvdWxkIGJlIG9wZW5lZCBpbiBhIG5ldyB0YWJcbiAgICAvLyBFdmVyeSBsaW5rIGhyZWYgc2hvdWxkIGJlIGZvcm1hdHRlZCAoSSB1bmRlcnN0YW5kIEpTIG1vcmUgdGhhbiBlbGlzcC4uLiBzcnkpXG4gICAgY29uc3QgY29udGVudEFuY2hvcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpXG4gICAgLy8gTk9URTogSWYgeW91IHVzZSBhbnkgc3BlY2lhbCBjaGFyYWN0ZXJzIGxpa2UgIyBvciBzdGggZWxzZSBpbiB5b3VyIGZpbGVuYW1lcywgbGlzdCB0aGVtIGhlcmUuXG4gICAgY29uc3Qgc3BlY0NoYXIgPSBbJyMnXVxuICAgIDtbLi4uY29udGVudEFuY2hvcnNdLmZvckVhY2goYSA9PiB7XG4gICAgICBjb25zdCBocmVmID0gYT8uZ2V0QXR0cmlidXRlPy4oJ2hyZWYnKVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGhyZWY/LnN0YXJ0c1dpdGg/LignaHR0cHM6Ly8nKSB8fCBocmVmPy5zdGFydHNXaXRoPy4oJ2h0dHA6Ly8nKSkge1xuICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJylcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBocmVmXG4gICAgICAgICAgICAuc3Vic3RyaW5nKDEpXG4gICAgICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgICAgICAuc29tZShzdHIgPT4gc3BlY0NoYXIuaW5jbHVkZXMoc3RyKSkgfHxcbiAgICAgICAgICBkZWNvZGVVUklDb21wb25lbnQoaHJlZi5zdWJzdHJpbmcoMSkpXG4gICAgICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgICAgICAuc29tZShzdHIgPT4gc3BlY0NoYXIuaW5jbHVkZXMoc3RyKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coaHJlZilcbiAgICAgICAgICBjb25zdCBuZXdIcmVmID0gZW5jb2RlVVJJQ29tcG9uZW50KGhyZWYpXG4gICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBuZXdIcmVmKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIHRocm93IGVcbiAgICAgICAgLypOb3RlOiB0aHJvdyBpZiBzb21ldGhpbmcgaXNuJ3QgcXVpdGUgYWxyaWdodCB3aXRoIGxpbmtzISovXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEFwcGVuZCBhIENTUyBjbGFzcyAuY2xpY2tlZCB0byBhIGNsaWNrZWQgYW5jaG9yIGZyb20gI3RvcG5hdlxuICAgIGNvbnN0IHRvcE5hdkxpbmtzID0gc3AudG9wbmF2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylcbiAgICA7Wy4uLnRvcE5hdkxpbmtzXS5mb3JFYWNoKGEgPT4ge1xuICAgICAgYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdjbGlja2VkJylcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIFRoZW1lIGNoYW5nZXIgY29udHJvbHNcbiAgICBjb25zdCB0aGVtU3dyQ29uc3RydWN0aW9uU2l0ZXMgPSBbXG4gICAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGhlbWUtY2hhbmdlcicpLFxuICAgIF1cbiAgICB0aGVtU3dyQ29uc3RydWN0aW9uU2l0ZXMuZm9yRWFjaChzaXRlID0+IHtcbiAgICAgIGNvbnN0IGJ0biA9IHRoZW1lQ2hhbmdlckJ0bignVG9nZ2xlIGJldHdlZW4gZGFyayBhbmQgbGlnaHQgbW9kZScsICgpID0+IHtcbiAgICAgICAgLy9idG4gb25jbGljayBjYWxsYmFja1xuICAgICAgICBjb25zdCBhdHRyID0gc3AuY29uZmlnLnRoZW1lQXR0cmlidXRlXG4gICAgICAgIGNvbnN0IGN1cnJUaGVtZUZyb21BdHRyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKVxuICAgICAgICBjb25zdCBjdXJyVGhlbWVGcm9tTFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhdHRyKVxuICAgICAgICBpZiAoY3VyclRoZW1lRnJvbUF0dHIgIT09IGN1cnJUaGVtZUZyb21MU3RvcmFnZSlcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoZW1lIGF0dHJpYnV0ZSAtIExvY2FsIHN0b3JhZ2UgZGlzbWF0Y2ghJylcbiAgICAgICAgY29uc3QgY3VycmVudFRoZW1lID0gY3VyclRoZW1lRnJvbUF0dHJcbiAgICAgICAgaWYgKGN1cnJlbnRUaGVtZSA9PT0gJ2xpZ2h0Jykge1xuICAgICAgICAgIC8vIFN3aXRjaCB0byBkYXJrXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYXR0ciwgJ2RhcmsnKVxuICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgJ2RhcmsnKVxuICAgICAgICAgIHdpbmRvdz8uUkVNQVJLNDI/LmNoYW5nZVRoZW1lPy4oJ2RhcmsnKVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUaGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgICAgLy8gU3dpdGNoIHRvIGxpZ2h0XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYXR0ciwgJ2xpZ2h0JylcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsICdsaWdodCcpXG4gICAgICAgICAgd2luZG93Py5SRU1BUks0Mj8uY2hhbmdlVGhlbWU/LignbGlnaHQnKVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaXRlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAnc3BhcnNlJykge1xuICAgICAgICAgIHNpdGUuY2xhc3NMaXN0LmFkZCgndG9wLWxldmVsJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGlmIChzaXRlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAnc3BhcnNlJykge1xuICAgICAgICBzaXRlLmNsYXNzTGlzdC5hZGQoJ3RvcC1sZXZlbCcpXG4gICAgICB9XG4gICAgICBzaXRlLmFwcGVuZChidG4pXG4gICAgfSlcblxuICAgIC8qXG4gICAgO1suLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGhlbWUtY2hhbmdlciA+IGJ1dHRvbicpXS5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIC8vSW1wbGVtZW50IHRoZSBsb2NhbCBzdG9yYWdlIGFuZCBET00gdG9nZ2xlXG4gICAgICAgIHNwLmxvZygnLnRoZW1lLWNoYW5nZXIgYnV0dG9uIGNsaWNrZWQnKVxuICAgICAgICBjb25zdCBjdXJyZW50VGhlbWUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHIpXG4gICAgICAgIGlmIChjdXJyZW50VGhlbWUgPT09ICdsaWdodCcpIHtcbiAgICAgICAgICAvLyBTd2l0Y2ggdG8gZGFya1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGF0dHIsICdkYXJrJylcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsICdkYXJrJylcbiAgICAgICAgICB3aW5kb3c/LlJFTUFSSzQyPy5jaGFuZ2VUaGVtZT8uKCdkYXJrJylcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VGhlbWUgPT09ICdkYXJrJykge1xuICAgICAgICAgIC8vIFN3aXRjaCB0byBsaWdodFxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGF0dHIsICdsaWdodCcpXG4gICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyLCAnbGlnaHQnKVxuICAgICAgICAgIHdpbmRvdz8uUkVNQVJLNDI/LmNoYW5nZVRoZW1lPy4oJ2xpZ2h0JylcbiAgICAgICAgfSBcblxuICAgICAgICAvLyBBZGQgc29tZSBjb29sIHN0eWxpbmcgdG8gdGhlIGJ1dHRvbiBpdHNlbGYgdG8gaW5kaWNhdGUgdGhlbWVcbiAgICAgIH0pXG4gICAgfSkqL1xuXG4gICAgLy8gRXZlcnkgaW1hZ2UgaW4gI2NvbnRlbnQsIG9uIGNsaWNrIHNob3VsZCBiZSBvcGVuZWQgaW4gYSBuZXcgdGFiLlxuICAgIGNvbnN0IGltZ3MgPSBzcC5jb250ZW50Py5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJylcbiAgICA7Wy4uLmltZ3NdLmZvckVhY2goaW1nID0+IHtcbiAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNwLm9wZW5JbWFnZU9uKVxuICAgIH0pXG4gIH0gZWxzZSBpZiAoc3AubG9hZCkge1xuICAgIC8vIFJlbW92ZSB0aGUgY2xhc3Mgb2YgLnByZWxvYWQgb2YgdGhlIGJvZHkgd2hlbiB0aGUgd2hvbGUgcGFnZSdzIGxvYWRlZC5cbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWxvYWQnKVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBjb2xvbiBhdCB0aGUgZW5kIG9mIGNvZGUgbGluZSBudW1iZXJcbiAgICA7Wy4uLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xpbmVucicpXS5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgbGluZS5pbm5lckhUTUwgPSBsaW5lLmlubmVySFRNTC5zbGljZSgwLCAtMikuY29uY2F0KCcgJylcbiAgICB9KVxuXG4gICAgLy9NYWtlIHRoZSBmb290ZXJcbiAgICBjb25zdCBmb290ZXIgPSBmb290ZXJHZW5lcmF0b3IoXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGFtYmxlJykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3htbCcpWzBdXG4gICAgKVxuICAgIC8vcG9zdGFtYmxlLmlubmVySFRNTCArPSBmb290ZXIub3V0ZXJIVE1MXG4gICAgcG9zdGFtYmxlLmFwcGVuZENoaWxkKGZvb3RlcilcblxuICAgIC8vIFByb2Nlc3MgLnNvY01lZGlhQm94XG4gICAgY29uc3Qgc29jTWVkaWFCb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NvY01lZGlhQm94JylcbiAgICA7Wy4uLnNvY01lZGlhQm94ZXNdLmZvckVhY2goc29jTWVkaWFCb3ggPT4ge1xuICAgICAgY29uc3QgeG1sID0gc29jTWVkaWFCb3guZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3htbCcpWzBdXG4gICAgICBpZiAoeG1sKSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSB4bWwyanNvbih4bWwpXG4gICAgICAgIHNvY01lZGlhQm94LmlubmVySFRNTCA9IHNvY2lhbE1lZGlhQm94R2VuZXJhdG9yKFxuICAgICAgICAgIGpzb25bJ1NPQ01FRElBJ11bJ0VOVFJZJ10sXG4gICAgICAgICAgc3AuY29uZmlnLmljb25zQmFzZVBhdGhcbiAgICAgICAgKS5vdXRlckhUTUxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ21pc3NpbmcgeG1sIGluIC5zb2NNZWRpYUJveCEnKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBQbGF5IGxpdHRsZSBoYXJkIHJvY2sgZ3VpdGFyIHNvbG8gd2hlbiBcInJvY2tpbmdcIiBmcm9tIFwia2VlcCBvbiByb2NraW5nXCIgaXMgY2xpY2tlZC5cbiAgICAvL2RvY3VtZW50LmJvZHkuaW5uZXJIVE1MLnJlcGxhY2UoL2tlZXAgb24gcm9ja2luZy9nLCAnb2NjdXJyZW5jZScpXG4gICAgO1suLi5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncCcpXS5mb3JFYWNoKHAgPT4ge1xuICAgICAgY29uc3QgcmVnZXhwID0gL2tlZXAgb24gcm9ja2luZy9nXG4gICAgICBpZiAocmVnZXhwLnRlc3QocC5pbm5lckhUTUwpKSB7XG4gICAgICAgIGNvbnN0IG9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCcvc291bmRzL2d1aXRhci1oYXJkLXJvY2subXAzJylcbiAgICAgICAgICBhdWRpby5wbGF5KClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYWZlU3RyID0gb25DbGlja1xuICAgICAgICAgIC50b1N0cmluZygpXG4gICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxuICAgICAgICBwLmlubmVySFRNTCA9IHAuaW5uZXJIVE1MLnJlcGxhY2UoXG4gICAgICAgICAgcmVnZXhwLFxuICAgICAgICAgIGBrZWVwIG9uIDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBvbmNsaWNrPVwiKCAke3NhZmVTdHJ9ICkoKVwiID5yb2NraW5nPC9hPmBcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0pXG4gIH0gZWxzZSBpZiAoc3AuYmVmb3JldW5sb2FkKSB7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYW55XG4iLCJpbXBvcnQgeG1sMmpzb24gZnJvbSAnLi4vc2NyaXB0cy94bWwyanNvbidcblxuY29uc3QgZm9vdGVyR2VuZXJhdG9yID0geG1sID0+IHtcbiAgY29uc3QganNvbiA9IHhtbDJqc29uKHhtbClcblxuICAvLyBTb2NpYWxNZWRpYVxuICBjb25zdCBzb2NtZWRpYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHNvY21lZGlhLmlkID0gJ3NvY21lZGlhJ1xuICBjb25zdCBzb2NpYWxNZWRpYUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHNvY2lhbE1lZGlhQm94LmNsYXNzTmFtZSA9ICdzb2NNZWRpYUJveCdcbiAgc29jaWFsTWVkaWFCb3guaW5uZXJIVE1MID0gYDx4bWw+JHtcbiAgICB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NvY21lZGlhJylbMF0ub3V0ZXJIVE1MXG4gIH08L3htbD5gIC8vIFRoZSB4bWwgd2lsbCBsYXRlciBiZSByZXBsYWNlZC4gTG9vayBhdCBhY3Rpb24gYW55LmpzXG4gIHNvY21lZGlhLmFwcGVuZChzb2NpYWxNZWRpYUJveClcblxuICAvLyBTdWJzY3JpYmUgKE5PVEU6IEZvciBub3cgdGhpcyBjb21wb25lbnQgaXMgbm90IG5lZWRlZCwgdGhlcmVmb3JlIGl0IHdvbid0IGJlIGRpc3BsYXllZClcbiAgLypcbiAgY29uc3Qgc3Vic2NyaWJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgc3Vic2NyaWJlLmlkID0gJ3N1YnNjcmliZSdcbiAgY29uc3QgY3RhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDUnKVxuICBjdGEuaWQgPSAnY3RhJ1xuICBjdGEuaW5uZXJIVE1MID0ganNvblsnU1VCU0NSSUJFJ11bJ0NUQSddXG4gIGNvbnN0IHN1YlR3aXR0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzdWJUd2l0dGVyLmlkID0gJ3N1YlR3aXR0ZXInXG4gIGNvbnN0IHN1YkVtYWlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgc3ViRW1haWwuaWQgPSAnc3ViRW1haWwnXG4gIGNvbnN0IHN1YlJzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHN1YlJzcy5pZCA9ICdzdWJSc3MnXG4gIHN1YnNjcmliZS5hcHBlbmQoY3RhLCBzdWJUd2l0dGVyLCBzdWJFbWFpbCwgc3ViUnNzKVxuKi9cblxuICAvLyBJbmZvXG4gIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBpbmZvLmlkID0gJ2luZm8nXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGRpdi5pbm5lckhUTUwgPSBgQnVpbHQgd2l0aCBFbWFjcyBPcmctbW9kZSDigKIgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL3RoZXdlYm1hc3RlcnAvdGhld2VibWFzdGVycC5jb20nPkNvZGU8L2E+IG9wZW4gc291cmNlZCDigKIgUmVhZCB0aGUgPGEgaHJlZj0nL3ByaXZhY3ktcG9saWN5Lmh0bWwnPlByaXZhY3kgUG9saWN5PC9hPiDigKIgPGEgaHJlZj1cIi9jb250YWN0Lmh0bWxcIj5Db250YWN0IG1lPC9hPmBcbiAgaW5mby5hcHBlbmRDaGlsZChkaXYpXG5cbiAgLy8gQm90dG9tXG4gIGNvbnN0IGJvdHRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGJvdHRvbS5pZCA9ICdib3R0b20nXG5cbiAgLy8gQXNzZW1ibGUgYW5kICdzcGl0JyB0aGUgZm9vdGVyXG4gIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpXG4gIGZvb3Rlci5hcHBlbmQoc29jbWVkaWEsIC8qc3Vic2NyaWJlKi8gaW5mbywgYm90dG9tKVxuICByZXR1cm4gZm9vdGVyXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZvb3RlckdlbmVyYXRvclxuIiwiY29uc3Qgc29jaWFsTWVkaWFCb3hHZW5lcmF0b3IgPSAoYXJyLCBpY29uc0Jhc2VQYXRoKSA9PiB7XG4gIC8vIGlucHV0IGZvcm1hdDogW3tsYWJlbDogZ2l0aHViLCBocmVmOiAnaHR0cHM6Ly93d3cuZ2l0aHViLmNvbScsIGljb246ICcuL2ljb25zL2ljb24ucG5nJyB9LCB7Li4ufV1cblxuICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBib3guY2xhc3NOYW1lID0gJ3NvY01lZGlhQm94J1xuXG4gIGFyciA9IGFyci5tYXAoZW50cnkgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICBwcm9maWxlLmNsYXNzTmFtZSA9ICdwcm9maWxlJ1xuICAgIHByb2ZpbGUuaHJlZiA9IGVudHJ5WydIUkVGJ11cblxuICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJylcbiAgICBpY29uLnRpdGxlID0gZW50cnlbJ0xBQkVMJ11cblxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgIHJlcXVlc3Qub3BlbignR0VUJywgYCR7aWNvbnNCYXNlUGF0aH0vJHtlbnRyeVsnSUNPTiddfWAsIGZhbHNlKSAvLyBgZmFsc2VgIG1ha2VzIHRoZSByZXF1ZXN0IHN5bmNocm9ub3VzXG4gICAgcmVxdWVzdC5zZW5kKG51bGwpXG4gICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgIGljb24uaW5uZXJIVE1MID0gcmVxdWVzdC5yZXNwb25zZVRleHRcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgJHtyZXF1ZXN0LnN0YXR1c30gZmV0Y2hpbmcgaWNvbnMuYClcbiAgICB9XG5cbiAgICBwcm9maWxlLmFwcGVuZENoaWxkKGljb24pXG4gICAgcmV0dXJuIHByb2ZpbGVcbiAgfSlcblxuICBib3guYXBwZW5kKC4uLmFycilcbiAgcmV0dXJuIGJveFxufVxuXG5leHBvcnQgZGVmYXVsdCBzb2NpYWxNZWRpYUJveEdlbmVyYXRvclxuIiwiY29uc3QgaW5kZXhQYWdlID0gc3AgPT4ge1xuICBzcC5sb2coYCR7c3AuZW50cnlOYW1lfSAtICR7c3Auc3RhdHVzfWApXG5cbiAgLy8gV2VsY29tZSB0aGUgdXNlciB3aXRoIGEgbmljZSBmYWxsaW5nLWZyb20tdGhlLXNreSBtZXNzYWdlXG4gIGNvbnN0IHdlbGNvbWVVcyA9ICgpID0+IHtcbiAgICBjb25zdCB3ZWxjb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlbGNvbWUnKVxuICAgIGNvbnN0IHBndyA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgd2VsY29tZS5zdHlsZS5ib3R0b20gPSBwZ3cgPCA1NTAgPyAnNWVtJyA6ICc0ZW0nXG4gICAgd2VsY29tZS5zdHlsZS5vcGFjaXR5ID0gJzEnXG4gICAgcmV0dXJuIHdlbGNvbWVVcyAvL1JldHVybnMgaXRzZWxmIChuZWVkZWQgZm9yIGFkZEV2ZW50TGlzdGVuZXIgaW4gdGhpcyBjYXNlKVxuICB9XG5cbiAgLy8gV2hlbiB0aGUgaW5kZXggcGFnZSBpcyByZWxvYWRlZCwgaXRzIHNjcm9sbCBzaG91bGQgYWx3YXlzIHN0YXJ0IGZyb20gdG9wLiBFbHNlLCB0aGVyZSdzIGEgYnVnIHdpdGggdGhlICNtYXNrLlxuICBpZiAoJ3Njcm9sbFJlc3RvcmF0aW9uJyBpbiBoaXN0b3J5KSB7XG4gICAgaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9ICdtYW51YWwnXG4gIH1cblxuICBpZiAoc3AuRE9NQ29udGVudExvYWRlZCkge1xuICAgIC8vIFNldCB0aGUgYWN0aXZlIG5hdmlnYXRpb24gZW50cnlcbiAgICBzcC5zZXRBY3RpdmVOYXZFbnRyKCdob21lTGluaycpXG5cbiAgICAvLyBQYXJyYWxheFxuXG4gICAgLy8gVW5pdGUgI3ByZWFtYmxlLCAjY29udGVudCBhbmQgI3Bvc3RhbWJsZSBcInVuZGVyIHRoZSBmbGFnXCIgb2YgI3ByZUNvblBvc1dyYXBwZXJcbiAgICBjb25zdCBwcmVhbWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVhbWJsZScpLmNsb25lTm9kZSh0cnVlKVxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpLmNsb25lTm9kZSh0cnVlKVxuICAgIGNvbnN0IHBvc3RhbWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0YW1ibGUnKS5jbG9uZU5vZGUodHJ1ZSlcbiAgICBjb25zdCBwcmVDb25Qb3NXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBwcmVDb25Qb3NXcmFwcGVyLnNldEF0dHJpYnV0ZSgnaWQnLCAncHJlQ29uUG9zV3JhcHBlcicpXG4gICAgLy8gU29tZSBpbnNpZ25pZmljYW50IGJveGVzIHdpdGggZ3JhZGllbnQgLyBmaWxsLlxuICAgIGNvbnN0IGJveGVzID0gbmV3IEFycmF5KDQpLmZpbGwoJycpLm1hcCgoYm94LCBpKSA9PiB7XG4gICAgICBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgYm94LmNsYXNzTmFtZSA9ICdmYWtlQmcnXG4gICAgICBib3guaWQgPSBgZmFrZUJnLSR7aSArIDF9YFxuICAgICAgY29uc3QgZmlsbHMgPSBuZXcgQXJyYXkoMikuZmlsbCgnJykubWFwKChmaWxsLCBpKSA9PiB7XG4gICAgICAgIGZpbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBmaWxsLmNsYXNzTmFtZSA9IGBmaWxsLSR7aSArIDF9YFxuICAgICAgICByZXR1cm4gZmlsbFxuICAgICAgfSlcbiAgICAgIGJveC5hcHBlbmQoLi4uZmlsbHMpXG4gICAgICByZXR1cm4gYm94XG4gICAgfSlcbiAgICBwcmVDb25Qb3NXcmFwcGVyLmFwcGVuZChwcmVhbWJsZSwgY29udGVudCwgcG9zdGFtYmxlLCAuLi5ib3hlcylcblxuICAgIGxldCBwYXJhbGxheExheWVycyA9IG5ldyBBcnJheSg2KS5maWxsKCcnKS5tYXAoc3RyID0+ICh7fSkpXG4gICAgcGFyYWxsYXhMYXllcnMuZm9yRWFjaCgocHJvdG8sIGkpID0+IHtcbiAgICAgIHByb3RvLmNsYXNzTGlzdCA9IFtdXG4gICAgICBwcm90by5jbGFzc0xpc3QucHVzaCgnbGF5ZXInLCBgbGF5ZXItJHtpfWApXG4gICAgfSlcbiAgICBwYXJhbGxheExheWVycyA9IHBhcmFsbGF4TGF5ZXJzLm1hcCgocHJvdG8sIGksIGFycikgPT4ge1xuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgZWwuY2xhc3NMaXN0LmFkZCguLi5wcm90by5jbGFzc0xpc3QpXG5cbiAgICAgIGxldCBjb250ZW50ID0gJydcbiAgICAgIGlmIChpID09PSBhcnIubGVuZ3RoIC0gMSkge1xuICAgICAgICAvLyBJZiBpdCBpcyB0aGUgbGFzdCBlbGVtZW50IGFkZCBtYWluIGNvbnRlbnQgdG8gaXRcbiAgICAgICAgY29udGVudCA9IHByZUNvblBvc1dyYXBwZXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVsc2UsIGl0IGlzIGEgZnJhbWUgb2YgdGhlIHBhcmFsbGF4XG4gICAgICAgIC8vIENyZWF0ZSBhIHN1Yi1lbGVtZW50IHdoaWNoIGhvbGRzIHBhcmFsbGF4IGZyYW1lIGJhY2tncm91bmRcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoJ2ltZycpXG4gICAgICAgIGNvbnRlbnQgPSBpbWdcbiAgICAgICAgLypcblx0XHQgKiBEZXByZWNhdGVkIVxuXHRcdCAqIENoYW5naW5nIGVsZW1lbnQgY2xhc3MgZXZlcnkgZmV3IG1pbGxpc2Vjb25kcyB0cmlnZ2VycyBhIERPTSByZS1yZW5kZXJcblx0XHQgKiB3aGljaCBpcyBjYXVzaW5nIHRoaXMgY2hvcHBpbmVzcy5cblx0XHQgKiBcbiAgICAgICAgaWYgKHByb3RvLnRvZ2dsZUNsYXNzZXM/Lmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgLy8gUGljayBhIHJhbmRvbSBzdHJpbmcgZnJvbSB0aGUgYXJyIGFuZCBhcHBseSBpdCB0byB0aGUgLmltZyBpbiByYW5kb20gaW50ZXJ2YWxzXG4gICAgICAgICAgY29uc3QgcmFuZENsYXNzT25SYW5kSW50ZXJ2YWwgPSAoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIGFycixcbiAgICAgICAgICAgIG1pbiA9IDIwMCxcbiAgICAgICAgICAgIG1heCA9IDYwMCxcbiAgICAgICAgICAgIHByZXZcbiAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgIGxldCByYW5kQ2xhc3NcbiAgICAgICAgICAgIC8vTWFrZSBzdXJlIHRoZSByYW5kQ2xhc3MgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBvbGQgb25lLlxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICByYW5kQ2xhc3MgPSBhcnJbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyLmxlbmd0aCldXG4gICAgICAgICAgICB9IHdoaWxlIChyYW5kQ2xhc3MgPT09IHByZXYpXG5cbiAgICAgICAgICAgIGNvbnN0IHJhbmRJbnRlcnZhbCA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwXG4gICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUocHJldilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQocmFuZENsYXNzKVxuICAgICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgcmFuZENsYXNzT25SYW5kSW50ZXJ2YWwsXG4gICAgICAgICAgICAgIHJhbmRJbnRlcnZhbCxcbiAgICAgICAgICAgICAgaW1nLFxuICAgICAgICAgICAgICBhcnIsXG4gICAgICAgICAgICAgIG1pbixcbiAgICAgICAgICAgICAgbWF4LFxuICAgICAgICAgICAgICByYW5kQ2xhc3NcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQWxsIHRoYXQgbmVlZHMgbXVsdGlwbGUgZnJhbWVzLCBzZXQgdXAgaW5kaXZpZHVhbCBzZXR0aW5ncyBoZXJlXG4gICAgICAgICAgaWYgKHByb3RvLnRvZ2dsZUNsYXNzZXMuaW5jbHVkZXMoJ2hhbmRzMScpKSB7XG4gICAgICAgICAgICAvLyBUb2dnbGUgdGhlIGhhbmRzXG4gICAgICAgICAgICByYW5kQ2xhc3NPblJhbmRJbnRlcnZhbChpbWcsIHByb3RvLnRvZ2dsZUNsYXNzZXMsIDE1MCwgMjAwKVxuICAgICAgICAgIH0gZWxzZSBpZiAocHJvdG8udG9nZ2xlQ2xhc3Nlcy5pbmNsdWRlcygnZXllczEnKSkge1xuICAgICAgICAgICAgLy8gVG9nZ2xlIHRoZSBleWVzXG4gICAgICAgICAgICByYW5kQ2xhc3NPblJhbmRJbnRlcnZhbChpbWcsIHByb3RvLnRvZ2dsZUNsYXNzZXMsIDUwLCAxMDAwKVxuICAgICAgICAgIH1cbiAgICAgICAgfSAqL1xuICAgICAgfVxuICAgICAgZWwuYXBwZW5kKGNvbnRlbnQpXG5cbiAgICAgIHJldHVybiBlbFxuICAgIH0pXG5cbiAgICAvLyBDcmVhdGUgdGhlICNwYXJhbGxheFxuICAgIGNvbnN0IHBhcmFsbGF4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBwYXJhbGxheC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3BhcmFsbGF4JylcbiAgICBwYXJhbGxheC5hcHBlbmQoLi4ucGFyYWxsYXhMYXllcnMpXG5cbiAgICAvLyBEZXZhc3RhdGUgYW5kIHJlY3JlYXRlIHRoZSA8Ym9keT5cbiAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICcnXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwYXJhbGxheClcblxuICAgIC8vIDIuIEdyZWV0aW5nXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgd2VsY29tZVVzKCksIHRydWUpIC8vTm90IGEgdHlwbzogQ2FsbCB3ZWxjb21lVXMgaW5pdGlhbGx5IGFuZCB0aGVuIG9uIHJlc2l6ZS4gKE5vdGljZSB0aGF0IHdlbGNvbWVVcyByZXR1cm5zIGl0c2VsZilcbiAgICB9LCAxNTApXG4gIH0gZWxzZSBpZiAoc3AubG9hZCkge1xuICB9IGVsc2UgaWYgKHNwLmJlZm9yZXVubG9hZCkge1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4UGFnZVxuIiwiY29uc3QgYWJvdXRQYWdlID0gc3AgPT4ge1xuICBzcC5sb2coYCR7c3AuZW50cnlOYW1lfSAtICR7c3Auc3RhdHVzfWApXG4gIGlmIChzcC5ET01Db250ZW50TG9hZGVkKSB7XG4gICAgLy8gU2V0IHRoZSBhY3RpdmUgbmF2aWdhdGlvbiBlbnRyeVxuICAgIHNwLnNldEFjdGl2ZU5hdkVudHIoJ2Fib3V0TGluaycpXG5cbiAgICAvLyBHaXZlIHNvbWUgY3VzdG9tIHN0cnVjdHVyZSB0byBhYm91dG1lXG4gICAgY29uc3QgbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWUnKVxuICAgIG1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0QWJvdXRtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0LWFib3V0bWUnKVxuICAgICAgY29uc3QgZmlndXJlID0gbWUucGFyZW50RWxlbWVudFxuICAgICAgY29uc3QgZmlndXJlSFRNTCA9IGZpZ3VyZS5jbG9uZU5vZGUodHJ1ZSkub3V0ZXJIVE1MXG4gICAgICBmaWd1cmUucmVtb3ZlKClcbiAgICAgIHRleHRBYm91dG1lLmlubmVySFRNTCA9IGAke2ZpZ3VyZUhUTUx9PGRpdj4ke3RleHRBYm91dG1lLmlubmVySFRNTH08L2Rpdj5gXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNwLm9wZW5JbWFnZU9uKVxuICAgIH0pXG4gIH0gZWxzZSBpZiAoc3AubG9hZCkge1xuICB9IGVsc2UgaWYgKHNwLmJlZm9yZXVubG9hZCkge1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFib3V0UGFnZVxuIiwiY29uc3QgY29udGFjdFBhZ2UgPSBzcCA9PiB7XG4gIHNwLmxvZyhgJHtzcC5lbnRyeU5hbWV9IC0gJHtzcC5zdGF0dXN9YClcbiAgaWYgKHNwLkRPTUNvbnRlbnRMb2FkZWQpIHtcbiAgICBjb25zdCBjb250YWN0bWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdG1lJylcbiAgICBpZiAoIWNvbnRhY3RtZSkgY29uc29sZS5lcnJvcignTm8gI2NvbnRhY3RtZSEnKVxuICAgIGNvbnRhY3RtZS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdWJqZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmplY3QnKVxuICAgICAgY29uc3QgYWN0aW9uID0gY29udGFjdG1lLmdldEF0dHJpYnV0ZSgnYWN0aW9uJylcbiAgICAgIGNvbnN0IHN1YmplY3RQcmVmaXggPSAnP3N1YmplY3Q9J1xuICAgICAgY29uc3QgaSA9IGFjdGlvbi5pbmRleE9mKHN1YmplY3RQcmVmaXgpICsgc3ViamVjdFByZWZpeC5sZW5ndGhcbiAgICAgIGNvbnRhY3RtZS5zZXRBdHRyaWJ1dGUoJ2FjdGlvbicsIGFjdGlvbi5zbGljZSgwLCBpKSArIHN1YmplY3QudmFsdWUpXG4gICAgICBjb25zb2xlLmxvZyhzdWJqZWN0LnZhbHVlKVxuICAgIH0pXG5cbiAgICBjb25zdCBncmVldGluZyA9ICdIZXkgdGhld2VibWFzdGVycCwgaGVhciB0aGlzIGpva2UuICdcbiAgICBjb25zdCBqb2tlcyA9IFtcbiAgICAgIFwiV2hhdCBhcmUgYSBzaGFyaydzIHR3byBtb3N0IGZhdm9yaXRlIHdvcmRzP1wiLCAvLyBNYW4gb3ZlcmJvYXJkIVxuICAgICAgJ1doeSBhcmUgZ2hvc3RzIHN1Y2ggYmFkIGxpYXJzPycsIC8vIEJlY2F1c2UgdGhleSBhcmUgZWFzeSB0byBzZWUgdGhyb3VnaC5cbiAgICAgICdXaGF0IGRvIHlvdSBjYWxsIGEgc2luZ2luZyBsYXB0b3A/JywgLy8gQSBEZWxsIVxuICAgICAgJ1doYXQgZGlkIHRoZSBidWZmYWxvIHNheSB3aGVuIGhpcyBzb24gbGVmdCBmb3IgY29sbGVnZT8nLCAvLyBCaXNvbiFcbiAgICAgICdXaHkgZGlkIHRoZSB3ZWIgZGV2ZWxvcGVyIGRyb3duPycsIC8vIEhlIGhhZCB0b28gbWFueSBhbmNob3JzLlxuICAgICAgJ1doeSB3YXMgdGhlIEphdmFTY3JpcHQgcmVhbGl0eSBzaG93IGNhbmNlbGxlZCBhZnRlciBvbmx5IG9uZSBlcGlzb2RlPycsIC8vIFBlb3BsZSB0aG91Z2h0IGl0IHNlZW1lZCBzY3JpcHRlZC5cbiAgICAgICdIb3cgY2FuIHlvdSB0ZWxsIHRoYXQgYSB3ZWIgZGV2ZWxvcGVyIGlzIHdvcmtpbmc/JywgLy8gWW91IGNhbiBoZWFyIGhpbSBHcnVudGluZyFcbiAgICAgICdXaHkgZG9lcyBubyBvbmUgbGlrZSBqb2tlcyBhYm91dCBkZXNjcmlwdGlvbnMsIGtleXdvcmRzLCBvciBjaGFyYWN0ZXIgZW5jb2RpbmdzPycsIC8vIFRoZXnigJlyZSB0b28g4oCYbWV0YeKAmS5cbiAgICAgICdXaHkgZGlkIHRoZSBJUCBjcm9zcyB0aGUgc3VibmV0PycsIC8vIEJlY2F1c2UgdGhlIE5BVCBzYWlkIHRvIVxuICAgICAgJ1doeSB3YXMgdGhlIGNsYXNzIHVwc2V0IHRoYXQgaXRzIHBhcmVudCBkaWVkPycsIC8vIEJlY2F1c2UgaXQgd291bGRu4oCZdCBiZSBnZXR0aW5nIHRoZSBpbmhlcml0YW5jZSFcbiAgICAgICdIb3cgZG8geW91IGNvbWZvcnQgYSBKYXZhU2NyaXB0IGJ1Zz8nLCAvLyBZb3UgY29uc29sZSBpdC5cbiAgICAgICdXaHkgd2FzIHRoZSB3ZWIgZGV2ZWxvcGVyIGZpcmVkIGZyb20gaGVyIGpvYj8nLCAvLyBTaGUgZGlkIExlc3MgZXZlcnkgZGF5LlxuICAgICAgJ0hvdyBkb2VzIGEgd2ViIGRldmVsb3BlciBsaWtlIGhpcyBjb2ZmZWU/JywgLy8gIzAwMDAwMFxuICAgICAgJ1doeSBkaWQgdGhlIHdlYiBkZXZlbG9wZXIgc2VuZCBhIGZldyBleHRyYSBidWNrcyB0byBoZXIgaG9zdGluZyBwcm92aWRlcj8nLCAvLyBCZWNhdXNlIHNoZSBoZWFyZCB0aGF0IHNoZSBzaG91bGQgYWx3YXlzIHRpcCBoZXIgc2VydmVyLlxuICAgICAgJ1doeSBjb3VsZG7igJl0IHRoZSBwcm9ncmFtbWVyIHdvcmsgbGF0ZSBpbnRvIHRoZSBuaWdodD8nLCAvLyBTaGUgZGlkbuKAmXQgaGF2ZSBhIExBTVAuXG4gICAgXS5tYXAoam9rZSA9PiBgJHtncmVldGluZ30ke2pva2V9YClcblxuICAgIGNvbnN0IHByb3AgPSAnYWxyZWFkeVNlZW5Kb2tlcydcbiAgICBsZXQgYWxyZWFkeVNlZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHByb3ApKSB8fCBbXVxuICAgIGlmIChhbHJlYWR5U2Vlbi5sZW5ndGggPT09IGpva2VzLmxlbmd0aCkge1xuICAgICAgLy8gSWYgYWxsIGpva2VzIHNlZW4sIHJlc2V0IHRoZSB0cmFja2VyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwcm9wLCBKU09OLnN0cmluZ2lmeShbXSkpXG4gICAgICBhbHJlYWR5U2VlbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0ocHJvcCkpXG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgYWxyZWFkeSBzZWVuIGpva2VzXG4gICAgYWxyZWFkeVNlZW4uZm9yRWFjaChuID0+IHtcbiAgICAgIGpva2VzLnNwbGljZShuLCAxKVxuICAgIH0pXG4gICAgY29uc3QgcmFuZG9tSm9rZUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogam9rZXMubGVuZ3RoKVxuICAgIGNvbnN0IG5ld0FscmVhZHlTZWVuID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwcm9wKSkgfHwgW11cbiAgICBuZXdBbHJlYWR5U2Vlbi5wdXNoKHJhbmRvbUpva2VJbmRleClcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwcm9wLCBKU09OLnN0cmluZ2lmeShuZXdBbHJlYWR5U2VlbikpXG5cbiAgICAvLyBBcHBseSB0aGUgY2hvc2VuIGpva2UgYXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIG1lc3NhZ2VcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlJylcbiAgICAgIC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgam9rZXNbcmFuZG9tSm9rZUluZGV4XSlcbiAgfSBlbHNlIGlmIChzcC5sb2FkKSB7XG4gIH0gZWxzZSBpZiAoc3AuYmVmb3JldW5sb2FkKSB7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29udGFjdFBhZ2VcbiIsImNvbnN0IGJsb2cgPSBzcCA9PiB7XG4gIHNwLmxvZyhgJHtzcC5lbnRyeU5hbWV9IC0gJHtzcC5zdGF0dXN9YClcbiAgaWYgKHNwLkRPTUNvbnRlbnRMb2FkZWQpIHtcbiAgICAvLyBTZXQgdGhlIGFjdGl2ZSBuYXZpZ2F0aW9uIGVudHJ5XG4gICAgc3Auc2V0QWN0aXZlTmF2RW50cignYmxvZ0xpbmsnKVxuICB9IGVsc2UgaWYgKHNwLmxvYWQpIHtcbiAgfSBlbHNlIGlmIChzcC5iZWZvcmV1bmxvYWQpIHtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBibG9nXG4iLCJjb25zdCBibG9nUGFnZSA9IHNwID0+IHtcbiAgc3AubG9nKGAke3NwLmVudHJ5TmFtZX0gLSAke3NwLnN0YXR1c31gKVxuICBpZiAoc3AuRE9NQ29udGVudExvYWRlZCkge1xuICAgIC8vIFJlcGxhY2UgZGVmYXVsdCBzZWN0aW9uIGhlYWRpbmdzIChhcmNoLyBqcy8gZm9yIGV4YW1wbGUpIHdpdGggY3VzdG9tIG9uZXNcbiAgICBjb25zdCBtYXBUbyA9IHtcbiAgICAgICdEZXNrdG9wIFNldHVwLyc6IHtcbiAgICAgICAgdGl0bGU6ICdPcHRpbWl6aW5nIHlvdXIgTGludXggZGVza3RvcCBzZXR1cCBmb3IgcHJvZ3JhbW1pbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAnTGV0IHRoZSBhcnRpY2xlcyB1bmRlciB0aGlzIHNlY3Rpb24gYmUgYSBjb21wZW5kaXVtIC0gQW4gZXNzZW5jZSBvZiBteSBoYXJkLWxlYXJuZWQgbGVzc29ucyByZWdhcmRpbmcgTGludXggYW5kIGl0cyBjb25maWd1cmF0aW9uIGFzIGEgbWF4aW11bSBwcm9kdWN0aXZpdHksIHByb2dyYW1taW5nIGRlc2t0b3AgT1MuJyxcbiAgICAgIH0sXG4gICAgICAnd2VibWFzdGVyX3Byb2plY3QvJzoge1xuICAgICAgICB0aXRsZTogJ01hc3RlciBKYXZhU2NyaXB0JyxcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgXCJFdmVyeSBKYXZhU2NyaXB0IHRoaW5nIHRoYXQgZ290IG15IGludGVyZXN0IGFuZCBpbnNwaXJlZCBtZSwgSSdsbCB3cml0ZSBhIHBvc3QgYWJvdXQgaXQgYW5kIGl0IHdpbGwgYmUgbGlzdGVkIGhlcmUuXCIsXG4gICAgICB9LFxuICAgIH1cbiAgICAvLyBEbyBpdFxuICAgIGNvbnN0IGVudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZW50cmllcyA+IHVsID4gbGknKVxuICAgIGVudHJpZXMuZm9yRWFjaChsaSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBsaS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYicpWzBdXG4gICAgICBjb25zdCBpblRhcmdldCA9IHRhcmdldC50ZXh0Q29udGVudFxuICAgICAgT2JqZWN0LmtleXMobWFwVG8pLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKGluVGFyZ2V0ID09PSBrZXkpIHtcbiAgICAgICAgICBjb25zdCB0b1JlcGxhY2VUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKVxuICAgICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gbWFwVG9ba2V5XS50aXRsZVxuICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBtYXBUb1trZXldLmRlc2NyaXB0aW9uXG4gICAgICAgICAgY29uc3QgZGVzY3JpcHRpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKVxuICAgICAgICAgIGRlc2NyaXB0aW9uV3JhcHBlci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbilcbiAgICAgICAgICB0b1JlcGxhY2VUYXJnZXQuYXBwZW5kKHRpdGxlLCBkZXNjcmlwdGlvbldyYXBwZXIpXG4gICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRvUmVwbGFjZVRhcmdldCwgdGFyZ2V0KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH0gZWxzZSBpZiAoc3AubG9hZCkge1xuICB9IGVsc2UgaWYgKHNwLmJlZm9yZXVubG9hZCkge1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJsb2dQYWdlXG4iLCJjb25zdCBibG9nQXJ0aWNsZSA9IHNwID0+IHtcbiAgc3AubG9nKGAke3NwLmVudHJ5TmFtZX0gLSAke3NwLnN0YXR1c31gKVxuICBpZiAoc3AuRE9NQ29udGVudExvYWRlZCkge1xuICAgIC8vIEdldCBkYXRlIHBhc3NlZCB0aHJvdWdoIGFuIGh0bWwgY29tbWVudCBpbnNpZGUgPGhlYWQ+XG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmhlYWQuaW5uZXJIVE1MXG4gICAgICAuc3BsaXQoJ1xcbicpWzFdXG4gICAgICAucmVwbGFjZSgvPCEtLSB8IC0tPi9nLCAnJylcblxuICAgIC8vIEdldCBhdXRob3IgYW5kIGRlc2NyaXB0aW9uIGZyb20gc29tZSA8bWV0YT5zIGluIDxoZWFkPlxuICAgIGNvbnN0IGF1dGhvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImF1dGhvclwiXScpLmNvbnRlbnRcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImRlc2NyaXB0aW9uXCJdJylcbiAgICAgIC5jb250ZW50XG5cbiAgICAvLyBTdHJ1Y3R1cmUgdGhlIGZldGNoZWQgbWV0YWRhdGEgdG8gYmUgaW5zZXJ0ZWQgb24gdGhlIHJpZ2h0IHBsYWNlXG4gICAgY29uc3QgbWV0YSA9IGAgPGRpdiBpZD1cIkFydGljbGVNZXRhRGF0YVwiPlxuTGFzdCBjaGFuZ2U6ICR7ZGF0ZX08YnI+XG5BdXRob3I6IDxhIGhyZWY9XCIvYWJvdXQuaHRtbFwiPiR7YXV0aG9yfTwvYT5cbjwvZGl2PmBcbiAgICBjb25zdCBkZXNjcmlwdGlvbkhUTUwgPSBgPHAgaWQ9XCJkZXNjcmlwdGlvblwiPiR7ZGVzY3JpcHRpb259PC9wPmBcblxuICAgIC8vIEluc2VydCB0aGUgbWV0YWRhdGFcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCdjb250ZW50JylcbiAgICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZGVyJylbMF1cbiAgICBoZWFkZXIuaW5uZXJIVE1MID0gaGVhZGVyLmlubmVySFRNTCArIG1ldGEgKyBkZXNjcmlwdGlvbkhUTUxcbiAgfSBlbHNlIGlmIChzcC5sb2FkKSB7XG4gIH0gZWxzZSBpZiAoc3AuYmVmb3JldW5sb2FkKSB7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYmxvZ0FydGljbGVcbiIsImNvbnN0IHByb2plY3RzID0gc3AgPT4ge1xuICBzcC5sb2coYCR7c3AuZW50cnlOYW1lfSAtICR7c3Auc3RhdHVzfWApXG4gIGlmIChzcC5ET01Db250ZW50TG9hZGVkKSB7XG4gICAgLy8gU2V0IHRoZSBhY3RpdmUgbmF2aWdhdGlvbiBlbnRyeVxuICAgIHNwLnNldEFjdGl2ZU5hdkVudHIoJ2Fib3V0TGluaycpXG5cbiAgICBjb25zdCBzbGlkZXNob3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xpZGVzaG93JylcblxuICAgIC8vIEZvciBlYWNoIHNsaWRlLCBhZGQgYSBudW1iZXIgbGFiZWxcbiAgICBjb25zdCBzbGlkZXNob3dOb2RlcyA9IFsuLi5zbGlkZXNob3cuY2hpbGROb2Rlc10uZmlsdGVyKGNoaWxkID0+IHtcbiAgICAgIHJldHVybiBjaGlsZD8uY2xhc3NMaXN0Py5jb250YWlucygnbXlTbGlkZXMnKVxuICAgIH0pXG4gICAgc2xpZGVzaG93Tm9kZXMuZm9yRWFjaCgoY2hpbGQsIGksIGFycikgPT4ge1xuICAgICAgY29uc3QgbnVtTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgbnVtTGFiZWwuY2xhc3NOYW1lID0gJ251bWJlcnRleHQnXG4gICAgICBudW1MYWJlbC5hcHBlbmQoYCR7aSArIDF9IC8gJHthcnIubGVuZ3RofWApXG4gICAgICBjaGlsZC5wcmVwZW5kKG51bUxhYmVsKVxuICAgIH0pXG5cbiAgICAvLyBBcHBlbmQgbmV4dC9wcmV2IGJ1dHRvbnNcbiAgICBjb25zdCBjcmVhdGVCdXR0b24gPSAoY2xhc3NOYW1lLCBjaGFyLCBwbHVzKSA9PiB7XG4gICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgICBhLmNsYXNzTmFtZSA9IGNsYXNzTmFtZVxuICAgICAgYS5pbm5lclRleHQgPSBjaGFyXG4gICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBwbHVzU2xpZGVzKHBsdXMpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGFcbiAgICB9XG4gICAgc2xpZGVzaG93LmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbigncHJldicsICfina4nLCAtMSkpXG4gICAgc2xpZGVzaG93LmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbignbmV4dCcsICfina8nLCAxKSlcblxuICAgIC8vIEFwcGVuZCBkb3RzIHRvIHRoZSBib3R0b21cbiAgICBjb25zdCBkb3RzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBkb3RzLmNsYXNzTmFtZSA9ICdkb3RzJ1xuICAgIHNsaWRlc2hvd05vZGVzLmZvckVhY2goKG4sIGkpID0+IHtcbiAgICAgIGNvbnN0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgICAgZG90LmNsYXNzTmFtZSA9ICdkb3QnXG4gICAgICBkb3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGN1cnJlbnRTbGlkZShpICsgMSlcbiAgICAgIH0pXG4gICAgICBkb3RzLmFwcGVuZENoaWxkKGRvdClcbiAgICB9KVxuXG4gICAgc2xpZGVzaG93LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRvdHMsIHNsaWRlc2hvdy5uZXh0U2libGluZylcblxuICAgIGxldCBzbGlkZUluZGV4ID0gMVxuICAgIHNob3dTbGlkZXMoc2xpZGVJbmRleClcblxuICAgIGZ1bmN0aW9uIHBsdXNTbGlkZXMobikge1xuICAgICAgc2hvd1NsaWRlcygoc2xpZGVJbmRleCArPSBuKSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjdXJyZW50U2xpZGUobikge1xuICAgICAgc2hvd1NsaWRlcygoc2xpZGVJbmRleCA9IG4pKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dTbGlkZXMobikge1xuICAgICAgbGV0IGlcbiAgICAgIGxldCBzbGlkZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdteVNsaWRlcycpXG4gICAgICBsZXQgZG90cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RvdCcpXG4gICAgICBpZiAobiA+IHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2xpZGVJbmRleCA9IDFcbiAgICAgIH1cbiAgICAgIGlmIChuIDwgMSkge1xuICAgICAgICBzbGlkZUluZGV4ID0gc2xpZGVzLmxlbmd0aFxuICAgICAgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzbGlkZXNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IGRvdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZG90c1tpXS5jbGFzc05hbWUgPSBkb3RzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKCcgYWN0aXZlJywgJycpXG4gICAgICB9XG4gICAgICBzbGlkZXNbc2xpZGVJbmRleCAtIDFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICBkb3RzW3NsaWRlSW5kZXggLSAxXS5jbGFzc05hbWUgKz0gJyBhY3RpdmUnXG4gICAgfVxuICB9IGVsc2UgaWYgKHNwLmxvYWQpIHtcbiAgfSBlbHNlIGlmIChzcC5iZWZvcmV1bmxvYWQpIHtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0c1xuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNzcy9zdHlsZS5taW4uY3NzXCI7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiaWNvbkdlbmVyYXRvciIsImxhYmVsIiwiaW5uZXJIVE1MIiwidG9vbHRpcCIsImljb24iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwiYXBwZW5kIiwieG1sMmpzb24iLCJ4bWwiLCJvYmoiLCJjaGlsZHJlbiIsImkiLCJpdGVtIiwibm9kZU5hbWUiLCJwdXNoIiwib2xkIiwidGV4dENvbnRlbnQiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsIkNPTkZJRyIsImRlZmF1bHRUaGVtZSIsInRoZW1lQXR0cmlidXRlIiwiaWNvbnNCYXNlUGF0aCIsIlJ1bGUiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJjb25kaXRpb24iLCJhY3Rpb24iLCJpZCIsInN0YXRpYyIsImFyciIsInBhdGgiLCJzb21lIiwic3RyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicnVsZXMiLCJzcCIsImVudHJ5TmFtZSIsInN0YXR1cyIsImF0dHIiLCJjb25maWciLCJ0aGVtZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiZG9jdW1lbnRFbGVtZW50IiwiUkVNQVJLNDIiLCJjaGFuZ2VUaGVtZSIsInNldFRpbWVvdXQiLCJET01Db250ZW50TG9hZGVkIiwiYm9keSIsIndpdGhJZE9ubHkiLCJtYXRjaGVkUnVsZXNMaXN0IiwiZmlsdGVyIiwiZW50cnkiLCJlcnIiLCJjb250ZW50QW5jaG9ycyIsInNwZWNDaGFyIiwiZm9yRWFjaCIsImEiLCJocmVmIiwiZ2V0QXR0cmlidXRlIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsInNwbGl0IiwiaW5jbHVkZXMiLCJuZXdIcmVmIiwidG9wbmF2IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzaXRlIiwiYnRuIiwib25DbGljayIsImJ1dHRvbiIsIm1vb25JY29uIiwic3VuSWNvbiIsImJ0blRleHRFbCIsInRoZW1lQ2hhbmdlciIsImN1cnJUaGVtZUZyb21BdHRyIiwid2FybiIsImN1cnJlbnRUaGVtZSIsInBhcmVudE5vZGUiLCJpbWdzIiwiY29udGVudCIsImltZyIsIm9wZW5JbWFnZU9uIiwibG9hZCIsInJlbW92ZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJsaW5lIiwic2xpY2UiLCJjb25jYXQiLCJmb290ZXIiLCJzb2NtZWRpYSIsInNvY2lhbE1lZGlhQm94IiwiY2xhc3NOYW1lIiwib3V0ZXJIVE1MIiwiaW5mbyIsImRpdiIsImFwcGVuZENoaWxkIiwiYm90dG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3N0YW1ibGUiLCJzb2NNZWRpYUJveCIsImpzb24iLCJib3giLCJtYXAiLCJwcm9maWxlIiwidGl0bGUiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInJlc3BvbnNlVGV4dCIsImVycm9yIiwicmVnZXhwIiwidGVzdCIsInNhZmVTdHIiLCJBdWRpbyIsInBsYXkiLCJ0b1N0cmluZyIsImJlZm9yZXVubG9hZCIsImdlbkNvbmRpdCIsIndlbGNvbWVVcyIsIndlbGNvbWUiLCJwZ3ciLCJpbm5lcldpZHRoIiwic3R5bGUiLCJvcGFjaXR5IiwiaGlzdG9yeSIsInNjcm9sbFJlc3RvcmF0aW9uIiwic2V0QWN0aXZlTmF2RW50ciIsInByZWFtYmxlIiwiY2xvbmVOb2RlIiwicHJlQ29uUG9zV3JhcHBlciIsImJveGVzIiwiQXJyYXkiLCJmaWxsIiwiZmlsbHMiLCJwYXJhbGxheExheWVycyIsInByb3RvIiwiZWwiLCJwYXJhbGxheCIsIm1lIiwidGV4dEFib3V0bWUiLCJmaWd1cmUiLCJwYXJlbnRFbGVtZW50IiwiZmlndXJlSFRNTCIsImNvbnRhY3RtZSIsInN1YmplY3QiLCJzdWJqZWN0UHJlZml4IiwiaW5kZXhPZiIsInZhbHVlIiwiZ3JlZXRpbmciLCJqb2tlcyIsImpva2UiLCJwcm9wIiwiYWxyZWFkeVNlZW4iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJuIiwic3BsaWNlIiwicmFuZG9tSm9rZUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibmV3QWxyZWFkeVNlZW4iLCJtYXBUbyIsImRlc2NyaXB0aW9uIiwibGkiLCJpblRhcmdldCIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJ0b1JlcGxhY2VUYXJnZXQiLCJkZXNjcmlwdGlvbldyYXBwZXIiLCJyZXBsYWNlQ2hpbGQiLCJtZXRhIiwiaGVhZCIsInF1ZXJ5U2VsZWN0b3IiLCJkZXNjcmlwdGlvbkhUTUwiLCJoZWFkZXIiLCJzbGlkZXNob3ciLCJzbGlkZXNob3dOb2RlcyIsImNoaWxkTm9kZXMiLCJjaGlsZCIsImNvbnRhaW5zIiwibnVtTGFiZWwiLCJwcmVwZW5kIiwiY3JlYXRlQnV0dG9uIiwiY2hhciIsInBsdXMiLCJpbm5lclRleHQiLCJzaG93U2xpZGVzIiwic2xpZGVJbmRleCIsImRvdHMiLCJkb3QiLCJjdXJyZW50U2xpZGUiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsInNsaWRlcyIsImRpc3BsYXkiLCJtYWluQ2FsbGVyIiwiZXZlbnQiLCJ0eXBlIiwicGF0aG5hbWUiLCJtYXRjaGluZyIsInN0YXJ0ZXJQYWNrIiwiaHRtbCIsInVybCIsImZvY3VzIiwiX3BhcSIsInUiLCJkIiwicyIsImFzeW5jIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=