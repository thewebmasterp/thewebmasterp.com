(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"})(),(()=>{const e=(e,t,n)=>{const o=document.createElement("i");o.classList.add(`${e}-icon`),o.setAttribute("title",n),o.setAttribute("aria-hidden",!0);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.classList.add("feather",`feather-${e}`),a.setAttribute("fill","none"),a.setAttribute("stroke","currentColor"),a.setAttribute("stroke-linecap","round"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-width","2"),a.setAttribute("viewBox","0 0 24 24"),a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.innerHTML=t,o.append(a),o},t=function e(t){try{var n={};if(t.children.length>0)for(var o=0;o<t.children.length;o++){var a=t.children.item(o),s=a.nodeName;if(void 0===n[s])n[s]=e(a);else{if(void 0===n[s].push){var r=n[s];n[s]=[],n[s].push(r)}n[s].push(e(a))}}else n=t.textContent;return n}catch(e){console.log(e.message)}},n={defaultTheme:"dark",themeAttribute:"data-theme",iconsBasePath:"/css/icons"};class o{constructor(e,t,n,o){this.name=e,this.condition=t,this.action=n,this.id=o}static genCondit(e){return t=>e.some((e=>e===t||e===decodeURIComponent(t)||e===encodeURIComponent(t)))}}const a=[new o("any",(()=>!0),(n=>{n.log(`${n.entryName} - ${n.status}`);const o=n.config.themeAttribute;let a=localStorage.getItem(o);if(a||(localStorage.setItem(o,n.config.defaultTheme),a=n.config.defaultTheme),document?.documentElement?.setAttribute?.(o,a),window?.REMARK42?.changeTheme?.(a),setTimeout((()=>{window?.REMARK42?.changeTheme?.(a)}),1e3),n.DOMContentLoaded){document.body.classList.add("preload");const t=n.matchedRulesList.filter((e=>e.id));t[0]||n.err("No matching rules for the current page!"),document.body.setAttribute("id",t[0]?.id||"undefined");const o=document.getElementsByTagName("a"),a=["#"];[...o].forEach((e=>{const t=e.getAttribute("href");if(t.startsWith("https://")||t.startsWith("http://"))e.setAttribute("target","_blank");else if(t.substring(1).split("").some((e=>a.includes(e)))||decodeURIComponent(t.substring(1)).split("").some((e=>a.includes(e)))){console.log(t);const n=encodeURIComponent(t);e.setAttribute("href",n)}})),[...n.topnav.getElementsByTagName("a")].forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.add("clicked")}))})),[...document.querySelectorAll(".theme-changer")].forEach((t=>{const o=((t,n)=>{const o=document.createElement("button");o.addEventListener("click",n);const[a,s]=[e("moon",'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>',t),e("sun",'<circle cx="12" cy="12" r="5"></circle><line x1="12" x2="12" y1="1" y2="3"></line><line x1="12" x2="12" y1="21" y2="23"></line><line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line><line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line><line x1="1" x2="3" y1="12" y2="12"></line><line x1="21" x2="23" y1="12" y2="12"></line><line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line><line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line>',t)],r=document.createElement("span");return r.classList.add("sr-only"),r.textContent=t,o.append(a,s,r),o})("Toggle between dark and light mode",(()=>{const e=n.config.themeAttribute,o=document.documentElement.getAttribute(e);o!==localStorage.getItem(e)&&console.warn("Theme attribute - Local storage dismatch!");const a=o;"light"===a?(localStorage.setItem(e,"dark"),document.documentElement.setAttribute(e,"dark"),window?.REMARK42?.changeTheme?.("dark")):"dark"===a&&(localStorage.setItem(e,"light"),document.documentElement.setAttribute(e,"light"),window?.REMARK42?.changeTheme?.("light")),"sparse"===t.parentNode.getAttribute("class")&&t.classList.add("top-level")}));"sparse"===t.parentNode.getAttribute("class")&&t.classList.add("top-level"),t.append(o)}));const s=n.content?.getElementsByTagName("img");[...s].forEach((e=>{e.addEventListener("click",n.openImageOn)}))}else if(n.load){document.body.classList.remove("preload"),[...document.getElementsByClassName("linenr")].forEach((e=>{console.log("ha",e),e.innerHTML=e.innerHTML.slice(0,-2).concat(" ")}));const e=(e=>{t(e);const n=document.createElement("div");n.id="socmedia";const o=document.createElement("div");o.className="socMediaBox",o.innerHTML=`<xml>${e.getElementsByTagName("socmedia")[0].outerHTML}</xml>`,n.append(o);const a=document.createElement("div");a.id="info";const s=document.createElement("div");s.innerHTML="Built with Emacs Org-mode • <a href='https://github.com/thewebmasterp/thewebmasterp.com'>Code</a> open sourced • Read the <a href='privacy-policy.html'>Privacy Policy</a> • <a href=\"contact.html\">Contact me</a>",a.appendChild(s);const r=document.createElement("div");r.id="bottom";const c=document.createElement("footer");return c.append(n,a,r),c})(document.getElementById("postamble").getElementsByTagName("xml")[0]);postamble.innerHTML+=e.outerHTML,[...document.getElementsByClassName("socMediaBox")].forEach((e=>{const o=e.getElementsByTagName("xml")[0];if(o){const a=t(o);e.innerHTML=((e,t)=>{const n=document.createElement("div");return n.className="socMediaBox",e=e.map((e=>{const n=document.createElement("a");n.className="profile",n.href=e.HREF;const o=document.createElement("i");o.title=e.LABEL;const a=new XMLHttpRequest;return a.open("GET",`${t}/${e.ICON}`,!1),a.send(null),200===a.status?o.innerHTML=a.responseText:console.error(`Error ${a.status} fetching icons.`),n.appendChild(o),n})),n.append(...e),n})(a.SOCMEDIA.ENTRY,n.config.iconsBasePath).outerHTML}else console.error("missing xml in .socMediaBox!")}))}else n.unload})),new o("indexPage",o.genCondit(["/","/index","/index.html","index"]),(e=>{e.log(`${e.entryName} - ${e.status}`);const t=()=>{const e=document.getElementById("welcome"),n=window.innerWidth;return e.style.bottom=n<550?"5em":"4em",e.style.opacity="1",t};if(e.DOMContentLoaded){e.setActiveNavEntr("homeLink");const n=document.getElementById("preamble").cloneNode(!0),o=document.getElementById("content").cloneNode(!0),a=document.getElementById("postamble").cloneNode(!0),s=document.createElement("div");s.setAttribute("id","preConPosWrapper");const r=new Array(4).fill("").map(((e,t)=>{(e=document.createElement("div")).className="fakeBg",e.id=`fakeBg-${t+1}`;const n=new Array(2).fill("").map(((e,t)=>((e=document.createElement("div")).className=`fill-${t+1}`,e)));return e.append(...n),e}));s.append(n,o,a,...r);let c=new Array(6).fill("").map((e=>({})));c.forEach(((e,t)=>{e.classList=[],e.classList.push("layer",`layer-${t}`)})),c=c.map(((e,t,n)=>{const o=document.createElement("div");o.classList.add(...e.classList);let a="";if(t===n.length-1)a=s;else{const e=document.createElement("div");e.classList.add("img"),a=e}return o.append(a),o}));const i=document.createElement("div");i.setAttribute("id","parallax"),i.append(...c),document.body.innerHTML="",document.body.appendChild(i),setTimeout((()=>{window.addEventListener("resize",t(),!0)}),150)}else e.load||e.unload}),"index"),new o("aboutPage",o.genCondit(["/about.html","/about","about"]),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){e.setActiveNavEntr("aboutLink");const t=document.getElementById("me");t.addEventListener("load",(()=>{const n=document.getElementById("text-aboutme"),o=t.parentElement,a=o.cloneNode(!0).outerHTML;o.remove(),n.innerHTML=`${a}<div>${n.innerHTML}</div>`,document.getElementById("me").addEventListener("click",e.openImageOn)}))}else e.load||e.unload}),"about"),new o("contactPage",o.genCondit(["/contact.html","/contact","contact"]),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){const e=document.getElementById("contactme");e||console.error("No #contactme!"),e.addEventListener("submit",(()=>{const t=document.getElementById("subject"),n=e.getAttribute("action"),o="?subject=",a=n.indexOf(o)+o.length;e.setAttribute("action",n.slice(0,a)+t.value),console.log(t.value)}));const t="Hey thewebmasterp, hear this joke. ",n=["What are a shark's two most favorite words?","Why are ghosts such bad liars?","What do you call a singing laptop?","What did the buffalo say when his son left for college?","Why did the web developer drown?","Why was the JavaScript reality show cancelled after only one episode?","How can you tell that a web developer is working?","Why does no one like jokes about descriptions, keywords, or character encodings?","Why did the IP cross the subnet?","Why was the class upset that its parent died?","How do you comfort a JavaScript bug?","Why was the web developer fired from her job?","How does a web developer like his coffee?","Why did the web developer send a few extra bucks to her hosting provider?","Why couldn’t the programmer work late into the night?"].map((e=>`${t}${e}`)),o="alreadySeenJokes";let a=JSON.parse(localStorage.getItem(o))||[];a.length===n.length&&(localStorage.setItem(o,JSON.stringify([])),a=JSON.parse(localStorage.getItem(o))),a.forEach((e=>{n.splice(e,1)}));const s=Math.floor(Math.random()*n.length),r=JSON.parse(localStorage.getItem(o))||[];r.push(s),localStorage.setItem(o,JSON.stringify(r)),document.getElementById("message").setAttribute("placeholder",n[s])}else e.load||e.unload}),"contact"),new o("blog",(e=>e.includes("blog")),(e=>{e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded?e.setActiveNavEntr("blogLink"):e.load||e.unload})),new o("blogPage",o.genCondit(["/blog.html","/blog","blog"]),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){const e={"Desktop Setup/":{title:"Optimizing your Linux desktop setup for programming",description:"Let the articles under this section be a compendium - An essence of my hard-learned lessons regarding Linux and its configuration as a maximum productivity, programming desktop OS."},"webmaster_project/":{title:"Master JavaScript",description:"Every JavaScript thing that got my interest and inspired me, I'll write a post about it and it will be listed here."}};document.querySelectorAll("#entries > ul > li").forEach((t=>{const n=t.getElementsByTagName("b")[0],o=n.textContent;Object.keys(e).forEach((t=>{if(o===t){const o=document.createElement("div"),a=document.createElement("h3");a.textContent=e[t].title;const s=document.createElement("p");s.textContent=e[t].description;const r=document.createElement("ul");r.appendChild(s),o.append(a,r),n.parentNode.replaceChild(o,n)}}))}))}else e.load||e.unload}),"blog"),new o("article",(e=>e.includes("blog")&&!o.genCondit(["/blog.html","/blog","blog"])(e)),(e=>{if(e.log(`${e.entryName} - ${e.status}`),e.DOMContentLoaded){const e=` <div id="ArticleMetaData">\nLast change: ${document.head.innerHTML.split("\n")[1].replace(/<!-- | -->/g,"")}<br>\nAuthor: <a href="/about.html">${document.querySelector('meta[name="author"]').content}</a>\n</div>`,t=`<p id="description">${document.querySelector('meta[name="description"]').content}</p>`,n=document.getElementById("content").getElementsByTagName("header")[0];n.innerHTML=n.innerHTML+e+t}else e.load||e.unload}),"article")],s=e=>{((e,t)=>{const n=e.type,o=window.location.pathname,s=a.filter((e=>e.condition(o))),r={config:t,status:n,DOMContentLoaded:"DOMContentLoaded"===n,load:"load"===n,unload:"unload"===n,html:document.documentElement,head:document.head,body:document.body,preamble:document.getElementById("preamble"),topnav:document.getElementById("topnav"),content:document.getElementById("content"),postamble:document.getElementById("postamble"),footer:document.getElementsByTagName("footer")[0],log:console.log,err:console.error,matchedRulesList:s,setActiveNavEntr:e=>{document.getElementsByClassName(e)[0].setAttribute("data-current","")},openImageOn:e=>{const t=e.target.getAttribute("src");window.open(t,"_blank").focus()}};s.forEach((e=>{"any"!==e.name&&(r.entryName=e.name||null,e.action(r))})),s.forEach((e=>{"any"===e.name&&(r.entryName="any",e.action(r))}))})(e,n)};window.addEventListener("DOMContentLoaded",s),window.addEventListener("load",s),window.addEventListener("unload",s)})(),e.p})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBZkEsRUFBTTlCLE9BQ1Y2SixFQUFZaEosVUFBWWlCLEVBQU05QixNQUFRLEtBQ3RDOEIsRUFBTTVCLE9BQU8ySixPQUdmRCxFQUFTMUgsU0FBUUosSUFDSSxRQUFmQSxFQUFNOUIsT0FDUjZKLEVBQVloSixVQUFZLE1BQ3hCaUIsRUFBTTVCLE9BQU8ySixRQVNqQkksQ0FBS1IsRUFBTy9KLElBRWR0QyxPQUFPd0YsaUJBQWlCLG1CQUFvQjRHLEdBQzVDcE0sT0FBT3dGLGlCQUFpQixPQUFRNEcsR0FDaENwTSxPQUFPd0YsaUJBQWlCLFNBQVU0RyxJLEdVN0luQixLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvbWF0b21vSW5pdC5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvY29tcG9uZW50cy90aGVtZUNoYW5nZXIuanMiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL3NjcmlwdHMveG1sMmpzb24uanMiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL2luZGV4LmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9qcy9hY3Rpb25zL2FueS5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvY29tcG9uZW50cy9mb290ZXJHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL2NvbXBvbmVudHMvc29jaWFsTWVkaWFCb3hHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vdGhld2VibWFzdGVycC5jb20vLi9jb250ZW50L2pzL2FjdGlvbnMvaW5kZXhQYWdlLmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9qcy9hY3Rpb25zL2Fib3V0UGFnZS5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvYWN0aW9ucy9jb250YWN0UGFnZS5qcyIsIndlYnBhY2s6Ly90aGV3ZWJtYXN0ZXJwLmNvbS8uL2NvbnRlbnQvanMvYWN0aW9ucy9ibG9nLmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9qcy9hY3Rpb25zL2Jsb2dQYWdlLmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9qcy9hY3Rpb25zL2Jsb2dBcnRpY2xlLmpzIiwid2VicGFjazovL3RoZXdlYm1hc3RlcnAuY29tLy4vY29udGVudC9zY3NzL3N0eWxlLnNjc3MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybCArIFwiLi4vXCI7IiwiY29uc3QgbWF0b21vSW5pdCA9ICgpID0+IHtcbiAgLy8gVE9ETzogRW5hYmxlIGFuZCBkZWJ1ZyB0aGlzIHNjcmlwdCBhZnRlciBwdXNoZWQgdG8gcHJvZHVjdGlvblxuICAvKlxuICB2YXIgX3BhcSA9ICh3aW5kb3cuX3BhcSA9IHdpbmRvdy5fcGFxIHx8IFtdKVxuICAvLyB0cmFja2VyIG1ldGhvZHMgbGlrZSBcInNldEN1c3RvbURpbWVuc2lvblwiIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIFwidHJhY2tQYWdlVmlld1wiXG4gIF9wYXEucHVzaChbJ3RyYWNrUGFnZVZpZXcnXSlcbiAgX3BhcS5wdXNoKFsnZW5hYmxlTGlua1RyYWNraW5nJ10pXG4gIDsoZnVuY3Rpb24oKSB7XG5cdHZhciB1ID0gJy8vbWF0b21vLnRoZXdlYm1hc3RlcnAuY29tLydcblx0X3BhcS5wdXNoKFsnc2V0VHJhY2tlclVybCcsIHUgKyAnbWF0b21vLnBocCddKVxuXHRfcGFxLnB1c2goWydzZXRTaXRlSWQnLCAnMSddKVxuXHR2YXIgZCA9IGRvY3VtZW50LFxuXHRcdGcgPSBkLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLFxuXHRcdHMgPSBkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXVxuXHRnLmFzeW5jID0gdHJ1ZVxuXHRnLnNyYyA9IHUgKyAnbWF0b21vLmpzJ1xuXHRzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcsIHMpXG4gIH0pKCkqL1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYXRvbW9Jbml0XG4iLCJjb25zdCBpY29uR2VuZXJhdG9yID0gKGxhYmVsLCBpbm5lckhUTUwsIHRvb2x0aXApID0+IHtcbiAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKVxuICBpY29uLmNsYXNzTGlzdC5hZGQoYCR7bGFiZWx9LWljb25gKVxuICBpY29uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0b29sdGlwKVxuICBpY29uLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKVxuICAvLyBZb3UgY2FuJ3QgcHJvcGVybHkgZ2VuZXJhdGUgc3ZnIGVsZW1lbnQgd2l0aCBkb2N1bWVudC5jcmVhdGVFbGVtZW50LiBZb3UgaGF2ZSB0byB1c2UgY3JlYXRlRWxlbWVudE5TLCBhcyBmb2xsb3dzOlxuICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpXG4gIC8vIEZvciBtb3JlIG9uIHRoZSB0b3BpYywgc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4NzM0NjI4L2hvdy1jYW4taS1zZXQtYW4tYXR0cmlidXRlLXdpdGgtY2FzZS1zZW5zaXRpdmUtbmFtZS1pbi1hLWphdmFzY3JpcHQtZ2VuZXJhdGVkLWVsLzI4NzM0OTU0XG4gIHN2Zy5jbGFzc0xpc3QuYWRkKCdmZWF0aGVyJywgYGZlYXRoZXItJHtsYWJlbH1gKVxuICBzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKVxuICBzdmcuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnY3VycmVudENvbG9yJylcbiAgc3ZnLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVjYXAnLCAncm91bmQnKVxuICBzdmcuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCAncm91bmQnKVxuICBzdmcuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMicpXG4gIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDI0IDI0JylcbiAgc3ZnLnNldEF0dHJpYnV0ZSgneG1sbnMnLCAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnKVxuICBzdmcuaW5uZXJIVE1MID0gaW5uZXJIVE1MXG4gIGljb24uYXBwZW5kKHN2ZylcblxuICByZXR1cm4gaWNvblxufVxuXG5jb25zdCB0aGVtZUNoYW5nZXJCdG4gPSAodG9vbHRpcCwgb25DbGljaykgPT4ge1xuICAvL2NvbnN0IGNvbnN0cnVjdGlvblNpdGVzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpXVxuXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG5cbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljaylcblxuICBjb25zdCBtb29uSW5IVE1MID1cbiAgICAnPHBhdGggZD1cIk0yMSAxMi43OUE5IDkgMCAxIDEgMTEuMjEgMyA3IDcgMCAwIDAgMjEgMTIuNzl6XCIvPidcbiAgY29uc3Qgc3VuSW5IVE1MID1cbiAgICAnPGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCI1XCI+PC9jaXJjbGU+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjFcIiB5Mj1cIjNcIj48L2xpbmU+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjIxXCIgeTI9XCIyM1wiPjwvbGluZT48bGluZSB4MT1cIjQuMjJcIiB4Mj1cIjUuNjRcIiB5MT1cIjQuMjJcIiB5Mj1cIjUuNjRcIj48L2xpbmU+PGxpbmUgeDE9XCIxOC4zNlwiIHgyPVwiMTkuNzhcIiB5MT1cIjE4LjM2XCIgeTI9XCIxOS43OFwiPjwvbGluZT48bGluZSB4MT1cIjFcIiB4Mj1cIjNcIiB5MT1cIjEyXCIgeTI9XCIxMlwiPjwvbGluZT48bGluZSB4MT1cIjIxXCIgeDI9XCIyM1wiIHkxPVwiMTJcIiB5Mj1cIjEyXCI+PC9saW5lPjxsaW5lIHgxPVwiNC4yMlwiIHgyPVwiNS42NFwiIHkxPVwiMTkuNzhcIiB5Mj1cIjE4LjM2XCI+PC9saW5lPjxsaW5lIHgxPVwiMTguMzZcIiB4Mj1cIjE5Ljc4XCIgeTE9XCI1LjY0XCIgeTI9XCI0LjIyXCI+PC9saW5lPidcbiAgY29uc3QgW21vb25JY29uLCBzdW5JY29uXSA9IFtcbiAgICBpY29uR2VuZXJhdG9yKCdtb29uJywgbW9vbkluSFRNTCwgdG9vbHRpcCksXG4gICAgaWNvbkdlbmVyYXRvcignc3VuJywgc3VuSW5IVE1MLCB0b29sdGlwKSxcbiAgXVxuXG4gIGNvbnN0IGJ0blRleHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICBidG5UZXh0RWwuY2xhc3NMaXN0LmFkZCgnc3Itb25seScpXG4gIGJ0blRleHRFbC50ZXh0Q29udGVudCA9IHRvb2x0aXBcblxuICBidXR0b24uYXBwZW5kKG1vb25JY29uLCBzdW5JY29uLCBidG5UZXh0RWwpXG5cbiAgcmV0dXJuIGJ1dHRvblxufVxuXG5leHBvcnQgZGVmYXVsdCB0aGVtZUNoYW5nZXJCdG5cbiIsImZ1bmN0aW9uIHhtbDJqc29uKHhtbCkge1xuICB0cnkge1xuICAgIHZhciBvYmogPSB7fVxuICAgIGlmICh4bWwuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4bWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB4bWwuY2hpbGRyZW4uaXRlbShpKVxuICAgICAgICB2YXIgbm9kZU5hbWUgPSBpdGVtLm5vZGVOYW1lXG5cbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbbm9kZU5hbWVdID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgb2JqW25vZGVOYW1lXSA9IHhtbDJqc29uKGl0ZW0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmpbbm9kZU5hbWVdLnB1c2ggPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhciBvbGQgPSBvYmpbbm9kZU5hbWVdXG5cbiAgICAgICAgICAgIG9ialtub2RlTmFtZV0gPSBbXVxuICAgICAgICAgICAgb2JqW25vZGVOYW1lXS5wdXNoKG9sZClcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqW25vZGVOYW1lXS5wdXNoKHhtbDJqc29uKGl0ZW0pKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iaiA9IHhtbC50ZXh0Q29udGVudFxuICAgIH1cbiAgICByZXR1cm4gb2JqXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlLm1lc3NhZ2UpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeG1sMmpzb25cbiIsImltcG9ydCBtYXRvbW9Jbml0IGZyb20gJy4vbWF0b21vSW5pdCdcblxuaW1wb3J0IGFueSBmcm9tICcuL2FjdGlvbnMvYW55J1xuaW1wb3J0IGluZGV4UGFnZSBmcm9tICcuL2FjdGlvbnMvaW5kZXhQYWdlJ1xuaW1wb3J0IGFib3V0UGFnZSBmcm9tICcuL2FjdGlvbnMvYWJvdXRQYWdlJ1xuaW1wb3J0IGNvbnRhY3RQYWdlIGZyb20gJy4vYWN0aW9ucy9jb250YWN0UGFnZSdcbmltcG9ydCBibG9nIGZyb20gJy4vYWN0aW9ucy9ibG9nJ1xuaW1wb3J0IGJsb2dQYWdlIGZyb20gJy4vYWN0aW9ucy9ibG9nUGFnZSdcbmltcG9ydCBibG9nQXJ0aWNsZSBmcm9tICcuL2FjdGlvbnMvYmxvZ0FydGljbGUnXG5cbmNvbnN0IENPTkZJRyA9IHtcbiAgZGVmYXVsdFRoZW1lOiAnZGFyaycsXG4gIHRoZW1lQXR0cmlidXRlOiAnZGF0YS10aGVtZScsXG4gIGljb25zQmFzZVBhdGg6ICcvY3NzL2ljb25zJyxcbn1cblxuY2xhc3MgUnVsZSB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGNvbmRpdGlvbiwgYWN0aW9uLCBpZCkge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvblxuICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uXG4gICAgdGhpcy5pZCA9IGlkXG4gIH1cbiAgc3RhdGljIGdlbkNvbmRpdChhcnIpIHtcbiAgICByZXR1cm4gcGF0aCA9PiB7XG4gICAgICAvLyBOT1RFOiBTb21ldGltZXMsIGlmIHRoZSBsaW5rIGhhcyBhIGRvdWJsZXNobGFzaCwgaXQgZmFpbHMgdGhlc2UgdGVzdHMgYW5kIHRoZVxuICAgICAgLy8gc2l0ZSBicmVha3MhIEkgZGlkbid0IHJlc29sdmUgdGhpcyBpbiB0aGUgZnJvbnQtZW5kIGJlY2F1c2UgZXZlbiBpZiBpIGRpZCBzbyxcbiAgICAgIC8vIGl0IHdvdWxkbid0IHNvbHZlIHRoZSBwcm9ibGVtIGluIGl0cyByb290OiBXaHkgdGhpcyB3aG9sZSB0aGluZyBkZXBlbmRzIG9uIHRoZSB1cmw/XG4gICAgICByZXR1cm4gYXJyLnNvbWUoc3RyID0+IHtcbiAgICAgICAgLypcbiAgICAgICAgY29uc29sZS5sb2coYENvbXBhcmluZzogJyR7c3RyfScgd2l0aCAnJHtwYXRofSdgKVxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgPT4gJHtzdHIgPT09IHBhdGh9IHx8XG4gICAgICAgICAgICAke3N0ciA9PT0gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGgpfSB8fFxuICAgICAgICAgICAgJHtzdHIgPT09IGVuY29kZVVSSUNvbXBvbmVudChwYXRoKX1gXG4gICAgICAgICkqL1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHN0ciA9PT0gcGF0aCB8fFxuICAgICAgICAgIHN0ciA9PT0gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGgpIHx8XG4gICAgICAgICAgc3RyID09PSBlbmNvZGVVUklDb21wb25lbnQocGF0aClcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcnVsZXMgPSBbXG4gIG5ldyBSdWxlKCdhbnknLCAoKSA9PiB0cnVlLCBhbnkpLFxuICBuZXcgUnVsZShcbiAgICAnaW5kZXhQYWdlJyxcbiAgICBSdWxlLmdlbkNvbmRpdChbJy8nLCAnL2luZGV4JywgJy9pbmRleC5odG1sJywgJ2luZGV4J10pLFxuICAgIGluZGV4UGFnZSxcbiAgICAnaW5kZXgnXG4gICksXG4gIG5ldyBSdWxlKFxuICAgICdhYm91dFBhZ2UnLFxuICAgIFJ1bGUuZ2VuQ29uZGl0KFsnL2Fib3V0Lmh0bWwnLCAnL2Fib3V0JywgJ2Fib3V0J10pLFxuICAgIGFib3V0UGFnZSxcbiAgICAnYWJvdXQnXG4gICksXG4gIG5ldyBSdWxlKFxuICAgICdjb250YWN0UGFnZScsXG4gICAgUnVsZS5nZW5Db25kaXQoWycvY29udGFjdC5odG1sJywgJy9jb250YWN0JywgJ2NvbnRhY3QnXSksXG4gICAgY29udGFjdFBhZ2UsXG4gICAgJ2NvbnRhY3QnXG4gICksXG4gIG5ldyBSdWxlKCdibG9nJywgcGF0aCA9PiBwYXRoLmluY2x1ZGVzKCdibG9nJyksIGJsb2cpLFxuICBuZXcgUnVsZShcbiAgICAnYmxvZ1BhZ2UnLFxuICAgIFJ1bGUuZ2VuQ29uZGl0KFsnL2Jsb2cuaHRtbCcsICcvYmxvZycsICdibG9nJ10pLFxuICAgIGJsb2dQYWdlLFxuICAgICdibG9nJ1xuICApLFxuICBuZXcgUnVsZShcbiAgICAnYXJ0aWNsZScsXG4gICAgcGF0aCA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBwYXRoLmluY2x1ZGVzKCdibG9nJykgJiZcbiAgICAgICAgIVJ1bGUuZ2VuQ29uZGl0KFsnL2Jsb2cuaHRtbCcsICcvYmxvZycsICdibG9nJ10pKHBhdGgpXG4gICAgICApXG4gICAgfSxcbiAgICBibG9nQXJ0aWNsZSxcbiAgICAnYXJ0aWNsZSdcbiAgKSxcbl1cblxuY29uc3QgbWFpbiA9IChldmVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHN0YXR1cyA9IGV2ZW50LnR5cGVcbiAgY29uc3QgcGF0aG5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVcbiAgY29uc3QgbWF0Y2hpbmcgPSBydWxlcy5maWx0ZXIoZW50cnkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKGVudHJ5LmNvbmRpdGlvbilcbiAgICByZXR1cm4gZW50cnkuY29uZGl0aW9uKHBhdGhuYW1lKVxuICB9KVxuICBjb25zdCBzdGFydGVyUGFjayA9IHtcbiAgICBjb25maWc6IGNvbmZpZyxcbiAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICBET01Db250ZW50TG9hZGVkOiBzdGF0dXMgPT09ICdET01Db250ZW50TG9hZGVkJyxcbiAgICBsb2FkOiBzdGF0dXMgPT09ICdsb2FkJyxcbiAgICB1bmxvYWQ6IHN0YXR1cyA9PT0gJ3VubG9hZCcsXG4gICAgaHRtbDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgIGhlYWQ6IGRvY3VtZW50LmhlYWQsXG4gICAgYm9keTogZG9jdW1lbnQuYm9keSxcbiAgICBwcmVhbWJsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWFtYmxlJyksXG4gICAgdG9wbmF2OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9wbmF2JyksXG4gICAgY29udGVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKSxcbiAgICBwb3N0YW1ibGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0YW1ibGUnKSxcbiAgICBmb290ZXI6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdmb290ZXInKVswXSxcbiAgICBsb2c6IGNvbnNvbGUubG9nLFxuICAgIGVycjogY29uc29sZS5lcnJvcixcbiAgICBtYXRjaGVkUnVsZXNMaXN0OiBtYXRjaGluZyxcbiAgICBzZXRBY3RpdmVOYXZFbnRyOiBjbGFzc05hbWUgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpWzBdXG4gICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLWN1cnJlbnQnLCAnJylcbiAgICB9LFxuICAgIG9wZW5JbWFnZU9uOiBldmVudCA9PiB7XG4gICAgICBjb25zdCB1cmwgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdzcmMnKVxuICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJykuZm9jdXMoKVxuICAgIH0sXG4gIH1cbiAgbWF0Y2hpbmcuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgaWYgKGVudHJ5Lm5hbWUgPT09ICdhbnknKSByZXR1cm5cbiAgICBzdGFydGVyUGFjay5lbnRyeU5hbWUgPSBlbnRyeS5uYW1lIHx8IG51bGxcbiAgICBlbnRyeS5hY3Rpb24oc3RhcnRlclBhY2spXG4gIH0pXG4gIC8vICdhbnknIHNob3VsZCBiZSBjYWxsZWQgbGFzdFxuICBtYXRjaGluZy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICBpZiAoZW50cnkubmFtZSA9PT0gJ2FueScpIHtcbiAgICAgIHN0YXJ0ZXJQYWNrLmVudHJ5TmFtZSA9ICdhbnknXG4gICAgICBlbnRyeS5hY3Rpb24oc3RhcnRlclBhY2spXG4gICAgfVxuICB9KVxuXG4gIC8vIEluaXRpYWxpemUgbWF0b21vXG4gIG1hdG9tb0luaXQoKVxufVxuXG5jb25zdCBtYWluQ2FsbGVyID0gZXZlbnQgPT4ge1xuICBtYWluKGV2ZW50LCBDT05GSUcpXG59XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW5DYWxsZXIpIC8vIERPTSBsb2FkZWRcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgbWFpbkNhbGxlcikgLy8gRE9NICsgc3RhdGljIGxvYWRlZFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIG1haW5DYWxsZXIpIC8vIHVubG9hZGVkIChwcmVzc2luZyBiYWNrLCB2aXNpdGluZyBsaW5rIC4uLilcbiIsImltcG9ydCB0aGVtZUNoYW5nZXJCdG4gZnJvbSAnLi4vY29tcG9uZW50cy90aGVtZUNoYW5nZXInXG5pbXBvcnQgZm9vdGVyR2VuZXJhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvZm9vdGVyR2VuZXJhdG9yJ1xuaW1wb3J0IHNvY2lhbE1lZGlhQm94R2VuZXJhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvc29jaWFsTWVkaWFCb3hHZW5lcmF0b3InXG5cbmltcG9ydCB4bWwyanNvbiBmcm9tICcuLi9zY3JpcHRzL3htbDJqc29uJ1xuXG5jb25zdCBhbnkgPSBzcCA9PiB7XG4gIHNwLmxvZyhgJHtzcC5lbnRyeU5hbWV9IC0gJHtzcC5zdGF0dXN9YClcblxuICAvLyBJbml0aWFsaXplIHRoZW1lXG4gIGNvbnN0IGF0dHIgPSBzcC5jb25maWcudGhlbWVBdHRyaWJ1dGVcbiAgbGV0IHRoZW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYXR0cilcbiAgaWYgKCF0aGVtZSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGF0dHIsIHNwLmNvbmZpZy5kZWZhdWx0VGhlbWUpXG4gICAgdGhlbWUgPSBzcC5jb25maWcuZGVmYXVsdFRoZW1lXG4gIH1cbiAgZG9jdW1lbnQ/LmRvY3VtZW50RWxlbWVudD8uc2V0QXR0cmlidXRlPy4oYXR0ciwgdGhlbWUpXG4gIHdpbmRvdz8uUkVNQVJLNDI/LmNoYW5nZVRoZW1lPy4odGhlbWUpXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIC8vIEp1c3QgdG8gbWFrZSBzdXJlXG4gICAgd2luZG93Py5SRU1BUks0Mj8uY2hhbmdlVGhlbWU/Lih0aGVtZSlcbiAgfSwgMTAwMClcblxuICBpZiAoc3AuRE9NQ29udGVudExvYWRlZCkge1xuICAgIC8vIEFkZCBhIGNsYXNzIG9mIC5wcmVsb2FkIHRvIHRoZSBib2R5IChhbmQgd2hlbiB0aGUgd2hvbGUgcGFnZSBpcyBsb2FkZWQgLSBSZW1vdmUgaXQpLlxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncHJlbG9hZCcpXG5cbiAgICAvLyBBcHBseSB0aGUgYXBwcm9wcmlhdGUgaWQgdG8gdGhlIGN1cnJlbnQgcGFnZSdzIGJvZHlcbiAgICBjb25zdCB3aXRoSWRPbmx5ID0gc3AubWF0Y2hlZFJ1bGVzTGlzdC5maWx0ZXIoZW50cnkgPT4gZW50cnkuaWQpXG4gICAgaWYgKCF3aXRoSWRPbmx5WzBdKSB7XG4gICAgICBzcC5lcnIoJ05vIG1hdGNoaW5nIHJ1bGVzIGZvciB0aGUgY3VycmVudCBwYWdlIScpXG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdpZCcsIHdpdGhJZE9ubHlbMF0/LmlkIHx8ICd1bmRlZmluZWQnKVxuXG4gICAgLy8gRXZlcnkgbGluayBwb2ludGluZyB0byBhbiBvdXRzaWRlIHdlYnNpdGUgc2hvdWxkIGJlIG9wZW5lZCBpbiBhIG5ldyB0YWJcbiAgICAvLyBFdmVyeSBsaW5rIGhyZWYgc2hvdWxkIGJlIGZvcm1hdHRlZCAoSSB1bmRlcnN0YW5kIEpTIG1vcmUgdGhhbiBlbGlzcC4uLiBzcnkpXG4gICAgY29uc3QgY29udGVudEFuY2hvcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpXG4gICAgLy8gTk9URTogSWYgeW91IHVzZSBhbnkgc3BlY2lhbCBjaGFyYWN0ZXJzIGxpa2UgIyBvciBzdGggZWxzZSBpbiB5b3VyIGZpbGVuYW1lcywgbGlzdCB0aGVtIGhlcmUuXG4gICAgY29uc3Qgc3BlY0NoYXIgPSBbJyMnXVxuICAgIDtbLi4uY29udGVudEFuY2hvcnNdLmZvckVhY2goYSA9PiB7XG4gICAgICBjb25zdCBocmVmID0gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxuICAgICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSB8fCBocmVmLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSkge1xuICAgICAgICBhLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBocmVmXG4gICAgICAgICAgLnN1YnN0cmluZygxKVxuICAgICAgICAgIC5zcGxpdCgnJylcbiAgICAgICAgICAuc29tZShzdHIgPT4gc3BlY0NoYXIuaW5jbHVkZXMoc3RyKSkgfHxcbiAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KGhyZWYuc3Vic3RyaW5nKDEpKVxuICAgICAgICAgIC5zcGxpdCgnJylcbiAgICAgICAgICAuc29tZShzdHIgPT4gc3BlY0NoYXIuaW5jbHVkZXMoc3RyKSlcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhocmVmKVxuICAgICAgICBjb25zdCBuZXdIcmVmID0gZW5jb2RlVVJJQ29tcG9uZW50KGhyZWYpXG4gICAgICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgbmV3SHJlZilcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gQXBwZW5kIGEgQ1NTIGNsYXNzIC5jbGlja2VkIHRvIGEgY2xpY2tlZCBhbmNob3IgZnJvbSAjdG9wbmF2XG4gICAgY29uc3QgdG9wTmF2TGlua3MgPSBzcC50b3BuYXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVxuICAgIDtbLi4udG9wTmF2TGlua3NdLmZvckVhY2goYSA9PiB7XG4gICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2NsaWNrZWQnKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gVGhlbWUgY2hhbmdlciBjb250cm9sc1xuICAgIGNvbnN0IHRoZW1Td3JDb25zdHJ1Y3Rpb25TaXRlcyA9IFtcbiAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aGVtZS1jaGFuZ2VyJyksXG4gICAgXVxuICAgIHRoZW1Td3JDb25zdHJ1Y3Rpb25TaXRlcy5mb3JFYWNoKHNpdGUgPT4ge1xuICAgICAgY29uc3QgYnRuID0gdGhlbWVDaGFuZ2VyQnRuKCdUb2dnbGUgYmV0d2VlbiBkYXJrIGFuZCBsaWdodCBtb2RlJywgKCkgPT4ge1xuICAgICAgICAvL2J0biBvbmNsaWNrIGNhbGxiYWNrXG4gICAgICAgIGNvbnN0IGF0dHIgPSBzcC5jb25maWcudGhlbWVBdHRyaWJ1dGVcbiAgICAgICAgY29uc3QgY3VyclRoZW1lRnJvbUF0dHIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHIpXG4gICAgICAgIGNvbnN0IGN1cnJUaGVtZUZyb21MU3RvcmFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGF0dHIpXG4gICAgICAgIGlmIChjdXJyVGhlbWVGcm9tQXR0ciAhPT0gY3VyclRoZW1lRnJvbUxTdG9yYWdlKVxuICAgICAgICAgIGNvbnNvbGUud2FybignVGhlbWUgYXR0cmlidXRlIC0gTG9jYWwgc3RvcmFnZSBkaXNtYXRjaCEnKVxuICAgICAgICBjb25zdCBjdXJyZW50VGhlbWUgPSBjdXJyVGhlbWVGcm9tQXR0clxuICAgICAgICBpZiAoY3VycmVudFRoZW1lID09PSAnbGlnaHQnKSB7XG4gICAgICAgICAgLy8gU3dpdGNoIHRvIGRhcmtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhdHRyLCAnZGFyaycpXG4gICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyLCAnZGFyaycpXG4gICAgICAgICAgd2luZG93Py5SRU1BUks0Mj8uY2hhbmdlVGhlbWU/LignZGFyaycpXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgICAgICAvLyBTd2l0Y2ggdG8gbGlnaHRcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhdHRyLCAnbGlnaHQnKVxuICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgJ2xpZ2h0JylcbiAgICAgICAgICB3aW5kb3c/LlJFTUFSSzQyPy5jaGFuZ2VUaGVtZT8uKCdsaWdodCcpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNpdGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdzcGFyc2UnKSB7XG4gICAgICAgICAgc2l0ZS5jbGFzc0xpc3QuYWRkKCd0b3AtbGV2ZWwnKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaWYgKHNpdGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdzcGFyc2UnKSB7XG4gICAgICAgIHNpdGUuY2xhc3NMaXN0LmFkZCgndG9wLWxldmVsJylcbiAgICAgIH1cbiAgICAgIHNpdGUuYXBwZW5kKGJ0bilcbiAgICB9KVxuXG4gICAgLypcbiAgICA7Wy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aGVtZS1jaGFuZ2VyID4gYnV0dG9uJyldLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgLy9JbXBsZW1lbnQgdGhlIGxvY2FsIHN0b3JhZ2UgYW5kIERPTSB0b2dnbGVcbiAgICAgICAgc3AubG9nKCcudGhlbWUtY2hhbmdlciBidXR0b24gY2xpY2tlZCcpXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaGVtZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cilcbiAgICAgICAgaWYgKGN1cnJlbnRUaGVtZSA9PT0gJ2xpZ2h0Jykge1xuICAgICAgICAgIC8vIFN3aXRjaCB0byBkYXJrXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYXR0ciwgJ2RhcmsnKVxuICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgJ2RhcmsnKVxuICAgICAgICAgIHdpbmRvdz8uUkVNQVJLNDI/LmNoYW5nZVRoZW1lPy4oJ2RhcmsnKVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUaGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgICAgLy8gU3dpdGNoIHRvIGxpZ2h0XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYXR0ciwgJ2xpZ2h0JylcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsICdsaWdodCcpXG4gICAgICAgICAgd2luZG93Py5SRU1BUks0Mj8uY2hhbmdlVGhlbWU/LignbGlnaHQnKVxuICAgICAgICB9IFxuXG4gICAgICAgIC8vIEFkZCBzb21lIGNvb2wgc3R5bGluZyB0byB0aGUgYnV0dG9uIGl0c2VsZiB0byBpbmRpY2F0ZSB0aGVtZVxuICAgICAgfSlcbiAgICB9KSovXG5cbiAgICAvLyBFdmVyeSBpbWFnZSBpbiAjY29udGVudCwgb24gY2xpY2sgc2hvdWxkIGJlIG9wZW5lZCBpbiBhIG5ldyB0YWIuXG4gICAgY29uc3QgaW1ncyA9IHNwLmNvbnRlbnQ/LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKVxuICAgIDtbLi4uaW1nc10uZm9yRWFjaChpbWcgPT4ge1xuICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3Aub3BlbkltYWdlT24pXG4gICAgfSlcbiAgfSBlbHNlIGlmIChzcC5sb2FkKSB7XG4gICAgLy8gUmVtb3ZlIHRoZSBjbGFzcyBvZiAucHJlbG9hZCBvZiB0aGUgYm9keSB3aGVuIHRoZSB3aG9sZSBwYWdlJ3MgbG9hZGVkLlxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncHJlbG9hZCcpXG5cbiAgICAvLyBSZW1vdmUgdGhlIGNvbG9uIGF0IHRoZSBlbmQgb2YgY29kZSBsaW5lIG51bWJlclxuICAgIDtbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGluZW5yJyldLmZvckVhY2gobGluZSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnaGEnLCBsaW5lKVxuICAgICAgbGluZS5pbm5lckhUTUwgPSBsaW5lLmlubmVySFRNTC5zbGljZSgwLCAtMikuY29uY2F0KCcgJylcbiAgICB9KVxuXG4gICAgLy9NYWtlIHRoZSBmb290ZXJcbiAgICBjb25zdCBmb290ZXIgPSBmb290ZXJHZW5lcmF0b3IoXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGFtYmxlJykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3htbCcpWzBdXG4gICAgKVxuICAgIHBvc3RhbWJsZS5pbm5lckhUTUwgKz0gZm9vdGVyLm91dGVySFRNTFxuXG4gICAgLy8gUHJvY2VzcyAuc29jTWVkaWFCb3hcbiAgICBjb25zdCBzb2NNZWRpYUJveGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc29jTWVkaWFCb3gnKVxuICAgIDtbLi4uc29jTWVkaWFCb3hlc10uZm9yRWFjaChzb2NNZWRpYUJveCA9PiB7XG4gICAgICBjb25zdCB4bWwgPSBzb2NNZWRpYUJveC5nZXRFbGVtZW50c0J5VGFnTmFtZSgneG1sJylbMF1cbiAgICAgIGlmICh4bWwpIHtcbiAgICAgICAgY29uc3QganNvbiA9IHhtbDJqc29uKHhtbClcbiAgICAgICAgc29jTWVkaWFCb3guaW5uZXJIVE1MID0gc29jaWFsTWVkaWFCb3hHZW5lcmF0b3IoXG4gICAgICAgICAganNvblsnU09DTUVESUEnXVsnRU5UUlknXSxcbiAgICAgICAgICBzcC5jb25maWcuaWNvbnNCYXNlUGF0aFxuICAgICAgICApLm91dGVySFRNTFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignbWlzc2luZyB4bWwgaW4gLnNvY01lZGlhQm94IScpXG4gICAgICB9XG4gICAgfSlcbiAgfSBlbHNlIGlmIChzcC51bmxvYWQpIHtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhbnlcbiIsImltcG9ydCB4bWwyanNvbiBmcm9tICcuLi9zY3JpcHRzL3htbDJqc29uJ1xuXG5jb25zdCBmb290ZXJHZW5lcmF0b3IgPSB4bWwgPT4ge1xuICBjb25zdCBqc29uID0geG1sMmpzb24oeG1sKVxuXG4gIC8vIFNvY2lhbE1lZGlhXG4gIGNvbnN0IHNvY21lZGlhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgc29jbWVkaWEuaWQgPSAnc29jbWVkaWEnXG4gIGNvbnN0IHNvY2lhbE1lZGlhQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgc29jaWFsTWVkaWFCb3guY2xhc3NOYW1lID0gJ3NvY01lZGlhQm94J1xuICBzb2NpYWxNZWRpYUJveC5pbm5lckhUTUwgPSBgPHhtbD4ke1xuICAgIHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc29jbWVkaWEnKVswXS5vdXRlckhUTUxcbiAgfTwveG1sPmAgLy8gVGhlIHhtbCB3aWxsIGxhdGVyIGJlIHJlcGxhY2VkLiBMb29rIGF0IGFjdGlvbiBhbnkuanNcbiAgc29jbWVkaWEuYXBwZW5kKHNvY2lhbE1lZGlhQm94KVxuXG4gIC8vIFN1YnNjcmliZSAoTk9URTogRm9yIG5vdyB0aGlzIGNvbXBvbmVudCBpcyBub3QgbmVlZGVkLCB0aGVyZWZvcmUgaXQgd29uJ3QgYmUgZGlzcGxheWVkKVxuICAvKlxuICBjb25zdCBzdWJzY3JpYmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzdWJzY3JpYmUuaWQgPSAnc3Vic2NyaWJlJ1xuICBjb25zdCBjdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNScpXG4gIGN0YS5pZCA9ICdjdGEnXG4gIGN0YS5pbm5lckhUTUwgPSBqc29uWydTVUJTQ1JJQkUnXVsnQ1RBJ11cbiAgY29uc3Qgc3ViVHdpdHRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHN1YlR3aXR0ZXIuaWQgPSAnc3ViVHdpdHRlcidcbiAgY29uc3Qgc3ViRW1haWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBzdWJFbWFpbC5pZCA9ICdzdWJFbWFpbCdcbiAgY29uc3Qgc3ViUnNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgc3ViUnNzLmlkID0gJ3N1YlJzcydcbiAgc3Vic2NyaWJlLmFwcGVuZChjdGEsIHN1YlR3aXR0ZXIsIHN1YkVtYWlsLCBzdWJSc3MpXG4qL1xuXG4gIC8vIEluZm9cbiAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGluZm8uaWQgPSAnaW5mbydcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgZGl2LmlubmVySFRNTCA9IGBCdWlsdCB3aXRoIEVtYWNzIE9yZy1tb2RlIOKAoiA8YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vdGhld2VibWFzdGVycC90aGV3ZWJtYXN0ZXJwLmNvbSc+Q29kZTwvYT4gb3BlbiBzb3VyY2VkIOKAoiBSZWFkIHRoZSA8YSBocmVmPSdwcml2YWN5LXBvbGljeS5odG1sJz5Qcml2YWN5IFBvbGljeTwvYT4g4oCiIDxhIGhyZWY9XCJjb250YWN0Lmh0bWxcIj5Db250YWN0IG1lPC9hPmBcbiAgaW5mby5hcHBlbmRDaGlsZChkaXYpXG5cbiAgLy8gQm90dG9tXG4gIGNvbnN0IGJvdHRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGJvdHRvbS5pZCA9ICdib3R0b20nXG5cbiAgLy8gQXNzZW1ibGUgYW5kICdzcGl0JyB0aGUgZm9vdGVyXG4gIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpXG4gIGZvb3Rlci5hcHBlbmQoc29jbWVkaWEsIC8qc3Vic2NyaWJlKi8gaW5mbywgYm90dG9tKVxuICByZXR1cm4gZm9vdGVyXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZvb3RlckdlbmVyYXRvclxuIiwiY29uc3Qgc29jaWFsTWVkaWFCb3hHZW5lcmF0b3IgPSAoYXJyLCBpY29uc0Jhc2VQYXRoKSA9PiB7XG4gIC8vIGlucHV0IGZvcm1hdDogW3tsYWJlbDogZ2l0aHViLCBocmVmOiAnaHR0cHM6Ly93d3cuZ2l0aHViLmNvbScsIGljb246ICcuL2ljb25zL2ljb24ucG5nJyB9LCB7Li4ufV1cblxuICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBib3guY2xhc3NOYW1lID0gJ3NvY01lZGlhQm94J1xuXG4gIGFyciA9IGFyci5tYXAoZW50cnkgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICBwcm9maWxlLmNsYXNzTmFtZSA9ICdwcm9maWxlJ1xuICAgIHByb2ZpbGUuaHJlZiA9IGVudHJ5WydIUkVGJ11cblxuICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJylcbiAgICBpY29uLnRpdGxlID0gZW50cnlbJ0xBQkVMJ11cblxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgIHJlcXVlc3Qub3BlbignR0VUJywgYCR7aWNvbnNCYXNlUGF0aH0vJHtlbnRyeVsnSUNPTiddfWAsIGZhbHNlKSAvLyBgZmFsc2VgIG1ha2VzIHRoZSByZXF1ZXN0IHN5bmNocm9ub3VzXG4gICAgcmVxdWVzdC5zZW5kKG51bGwpXG4gICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgIGljb24uaW5uZXJIVE1MID0gcmVxdWVzdC5yZXNwb25zZVRleHRcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgJHtyZXF1ZXN0LnN0YXR1c30gZmV0Y2hpbmcgaWNvbnMuYClcbiAgICB9XG5cbiAgICBwcm9maWxlLmFwcGVuZENoaWxkKGljb24pXG4gICAgcmV0dXJuIHByb2ZpbGVcbiAgfSlcblxuICBib3guYXBwZW5kKC4uLmFycilcbiAgcmV0dXJuIGJveFxufVxuXG5leHBvcnQgZGVmYXVsdCBzb2NpYWxNZWRpYUJveEdlbmVyYXRvclxuIiwiY29uc3QgaW5kZXhQYWdlID0gc3AgPT4ge1xuICBzcC5sb2coYCR7c3AuZW50cnlOYW1lfSAtICR7c3Auc3RhdHVzfWApXG5cbiAgLy8gV2VsY29tZSB0aGUgdXNlciB3aXRoIGEgbmljZSBmYWxsaW5nLWZyb20tdGhlLXNreSBtZXNzYWdlXG4gIGNvbnN0IHdlbGNvbWVVcyA9ICgpID0+IHtcbiAgICBjb25zdCB3ZWxjb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlbGNvbWUnKVxuICAgIGNvbnN0IHBndyA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgd2VsY29tZS5zdHlsZS5ib3R0b20gPSBwZ3cgPCA1NTAgPyAnNWVtJyA6ICc0ZW0nXG4gICAgd2VsY29tZS5zdHlsZS5vcGFjaXR5ID0gJzEnXG4gICAgcmV0dXJuIHdlbGNvbWVVcyAvL1JldHVybnMgaXRzZWxmIChuZWVkZWQgZm9yIGFkZEV2ZW50TGlzdGVuZXIgaW4gdGhpcyBjYXNlKVxuICB9XG5cbiAgaWYgKHNwLkRPTUNvbnRlbnRMb2FkZWQpIHtcbiAgICAvLyBTZXQgdGhlIGFjdGl2ZSBuYXZpZ2F0aW9uIGVudHJ5XG4gICAgc3Auc2V0QWN0aXZlTmF2RW50cignaG9tZUxpbmsnKVxuXG4gICAgLy8gUGFycmFsYXhcblxuICAgIC8vIFVuaXRlICNwcmVhbWJsZSwgI2NvbnRlbnQgYW5kICNwb3N0YW1ibGUgXCJ1bmRlciB0aGUgZmxhZ1wiIG9mICNwcmVDb25Qb3NXcmFwcGVyXG4gICAgY29uc3QgcHJlYW1ibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlYW1ibGUnKS5jbG9uZU5vZGUodHJ1ZSlcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKS5jbG9uZU5vZGUodHJ1ZSlcbiAgICBjb25zdCBwb3N0YW1ibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGFtYmxlJykuY2xvbmVOb2RlKHRydWUpXG4gICAgY29uc3QgcHJlQ29uUG9zV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgcHJlQ29uUG9zV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3ByZUNvblBvc1dyYXBwZXInKVxuICAgIC8vIFNvbWUgaW5zaWduaWZpY2FudCBib3hlcyB3aXRoIGdyYWRpZW50IC8gZmlsbC5cbiAgICBjb25zdCBib3hlcyA9IG5ldyBBcnJheSg0KS5maWxsKCcnKS5tYXAoKGJveCwgaSkgPT4ge1xuICAgICAgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIGJveC5jbGFzc05hbWUgPSAnZmFrZUJnJ1xuICAgICAgYm94LmlkID0gYGZha2VCZy0ke2kgKyAxfWBcbiAgICAgIGNvbnN0IGZpbGxzID0gbmV3IEFycmF5KDIpLmZpbGwoJycpLm1hcCgoZmlsbCwgaSkgPT4ge1xuICAgICAgICBmaWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgZmlsbC5jbGFzc05hbWUgPSBgZmlsbC0ke2kgKyAxfWBcbiAgICAgICAgcmV0dXJuIGZpbGxcbiAgICAgIH0pXG4gICAgICBib3guYXBwZW5kKC4uLmZpbGxzKVxuICAgICAgcmV0dXJuIGJveFxuICAgIH0pXG4gICAgcHJlQ29uUG9zV3JhcHBlci5hcHBlbmQocHJlYW1ibGUsIGNvbnRlbnQsIHBvc3RhbWJsZSwgLi4uYm94ZXMpXG5cbiAgICBsZXQgcGFyYWxsYXhMYXllcnMgPSBuZXcgQXJyYXkoNikuZmlsbCgnJykubWFwKHN0ciA9PiAoe30pKVxuICAgIHBhcmFsbGF4TGF5ZXJzLmZvckVhY2goKHByb3RvLCBpKSA9PiB7XG4gICAgICBwcm90by5jbGFzc0xpc3QgPSBbXVxuICAgICAgcHJvdG8uY2xhc3NMaXN0LnB1c2goJ2xheWVyJywgYGxheWVyLSR7aX1gKVxuICAgIH0pXG4gICAgcGFyYWxsYXhMYXllcnMgPSBwYXJhbGxheExheWVycy5tYXAoKHByb3RvLCBpLCBhcnIpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoLi4ucHJvdG8uY2xhc3NMaXN0KVxuXG4gICAgICBsZXQgY29udGVudCA9ICcnXG4gICAgICBpZiAoaSA9PT0gYXJyLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgdGhlIGxhc3QgZWxlbWVudCBhZGQgbWFpbiBjb250ZW50IHRvIGl0XG4gICAgICAgIGNvbnRlbnQgPSBwcmVDb25Qb3NXcmFwcGVyXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbHNlLCBpdCBpcyBhIGZyYW1lIG9mIHRoZSBwYXJhbGxheFxuICAgICAgICAvLyBDcmVhdGUgYSBzdWItZWxlbWVudCB3aGljaCBob2xkcyBwYXJhbGxheCBmcmFtZSBiYWNrZ3JvdW5kXG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKCdpbWcnKVxuICAgICAgICBjb250ZW50ID0gaW1nXG4gICAgICAgIC8qXG5cdFx0ICogRGVwcmVjYXRlZCFcblx0XHQgKiBDaGFuZ2luZyBlbGVtZW50IGNsYXNzIGV2ZXJ5IGZldyBtaWxsaXNlY29uZHMgdHJpZ2dlcnMgYSBET00gcmUtcmVuZGVyXG5cdFx0ICogd2hpY2ggaXMgY2F1c2luZyB0aGlzIGNob3BwaW5lc3MuXG5cdFx0ICogXG4gICAgICAgIGlmIChwcm90by50b2dnbGVDbGFzc2VzPy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIC8vIFBpY2sgYSByYW5kb20gc3RyaW5nIGZyb20gdGhlIGFyciBhbmQgYXBwbHkgaXQgdG8gdGhlIC5pbWcgaW4gcmFuZG9tIGludGVydmFsc1xuICAgICAgICAgIGNvbnN0IHJhbmRDbGFzc09uUmFuZEludGVydmFsID0gKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBhcnIsXG4gICAgICAgICAgICBtaW4gPSAyMDAsXG4gICAgICAgICAgICBtYXggPSA2MDAsXG4gICAgICAgICAgICBwcmV2XG4gICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmFuZENsYXNzXG4gICAgICAgICAgICAvL01ha2Ugc3VyZSB0aGUgcmFuZENsYXNzIGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgb2xkIG9uZS5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcmFuZENsYXNzID0gYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFyci5sZW5ndGgpXVxuICAgICAgICAgICAgfSB3aGlsZSAocmFuZENsYXNzID09PSBwcmV2KVxuXG4gICAgICAgICAgICBjb25zdCByYW5kSW50ZXJ2YWwgPSBNYXRoLmZsb29yKFxuICAgICAgICAgICAgICBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAvLyBDbGVhbiB1cFxuICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHByZXYpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKHJhbmRDbGFzcylcbiAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgIHJhbmRDbGFzc09uUmFuZEludGVydmFsLFxuICAgICAgICAgICAgICByYW5kSW50ZXJ2YWwsXG4gICAgICAgICAgICAgIGltZyxcbiAgICAgICAgICAgICAgYXJyLFxuICAgICAgICAgICAgICBtaW4sXG4gICAgICAgICAgICAgIG1heCxcbiAgICAgICAgICAgICAgcmFuZENsYXNzXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFsbCB0aGF0IG5lZWRzIG11bHRpcGxlIGZyYW1lcywgc2V0IHVwIGluZGl2aWR1YWwgc2V0dGluZ3MgaGVyZVxuICAgICAgICAgIGlmIChwcm90by50b2dnbGVDbGFzc2VzLmluY2x1ZGVzKCdoYW5kczEnKSkge1xuICAgICAgICAgICAgLy8gVG9nZ2xlIHRoZSBoYW5kc1xuICAgICAgICAgICAgcmFuZENsYXNzT25SYW5kSW50ZXJ2YWwoaW1nLCBwcm90by50b2dnbGVDbGFzc2VzLCAxNTAsIDIwMClcbiAgICAgICAgICB9IGVsc2UgaWYgKHByb3RvLnRvZ2dsZUNsYXNzZXMuaW5jbHVkZXMoJ2V5ZXMxJykpIHtcbiAgICAgICAgICAgIC8vIFRvZ2dsZSB0aGUgZXllc1xuICAgICAgICAgICAgcmFuZENsYXNzT25SYW5kSW50ZXJ2YWwoaW1nLCBwcm90by50b2dnbGVDbGFzc2VzLCA1MCwgMTAwMClcbiAgICAgICAgICB9XG4gICAgICAgIH0gKi9cbiAgICAgIH1cbiAgICAgIGVsLmFwcGVuZChjb250ZW50KVxuXG4gICAgICByZXR1cm4gZWxcbiAgICB9KVxuXG4gICAgLy8gQ3JlYXRlIHRoZSAjcGFyYWxsYXhcbiAgICBjb25zdCBwYXJhbGxheCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgcGFyYWxsYXguc2V0QXR0cmlidXRlKCdpZCcsICdwYXJhbGxheCcpXG4gICAgcGFyYWxsYXguYXBwZW5kKC4uLnBhcmFsbGF4TGF5ZXJzKVxuXG4gICAgLy8gRGV2YXN0YXRlIGFuZCByZWNyZWF0ZSB0aGUgPGJvZHk+XG4gICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJ1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFyYWxsYXgpXG5cbiAgICAvLyAyLiBHcmVldGluZ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHdlbGNvbWVVcygpLCB0cnVlKSAvL05vdCBhIHR5cG86IENhbGwgd2VsY29tZVVzIGluaXRpYWxseSBhbmQgdGhlbiBvbiByZXNpemUuIChOb3RpY2UgdGhhdCB3ZWxjb21lVXMgcmV0dXJucyBpdHNlbGYpXG4gICAgfSwgMTUwKVxuICB9IGVsc2UgaWYgKHNwLmxvYWQpIHtcbiAgfSBlbHNlIGlmIChzcC51bmxvYWQpIHtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmRleFBhZ2VcbiIsImNvbnN0IGFib3V0UGFnZSA9IHNwID0+IHtcbiAgc3AubG9nKGAke3NwLmVudHJ5TmFtZX0gLSAke3NwLnN0YXR1c31gKVxuICBpZiAoc3AuRE9NQ29udGVudExvYWRlZCkge1xuICAgIC8vIFNldCB0aGUgYWN0aXZlIG5hdmlnYXRpb24gZW50cnlcbiAgICBzcC5zZXRBY3RpdmVOYXZFbnRyKCdhYm91dExpbmsnKVxuXG4gICAgLy8gR2l2ZSBzb21lIGN1c3RvbSBzdHJ1Y3R1cmUgdG8gYWJvdXRtZVxuICAgIGNvbnN0IG1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lJylcbiAgICBtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGV4dEFib3V0bWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1hYm91dG1lJylcbiAgICAgIGNvbnN0IGZpZ3VyZSA9IG1lLnBhcmVudEVsZW1lbnRcbiAgICAgIGNvbnN0IGZpZ3VyZUhUTUwgPSBmaWd1cmUuY2xvbmVOb2RlKHRydWUpLm91dGVySFRNTFxuICAgICAgZmlndXJlLnJlbW92ZSgpXG4gICAgICB0ZXh0QWJvdXRtZS5pbm5lckhUTUwgPSBgJHtmaWd1cmVIVE1MfTxkaXY+JHt0ZXh0QWJvdXRtZS5pbm5lckhUTUx9PC9kaXY+YFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzcC5vcGVuSW1hZ2VPbilcbiAgICB9KVxuICB9IGVsc2UgaWYgKHNwLmxvYWQpIHtcbiAgfSBlbHNlIGlmIChzcC51bmxvYWQpIHtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhYm91dFBhZ2VcbiIsImNvbnN0IGNvbnRhY3RQYWdlID0gc3AgPT4ge1xuICBzcC5sb2coYCR7c3AuZW50cnlOYW1lfSAtICR7c3Auc3RhdHVzfWApXG4gIGlmIChzcC5ET01Db250ZW50TG9hZGVkKSB7XG4gICAgY29uc3QgY29udGFjdG1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RtZScpXG4gICAgaWYgKCFjb250YWN0bWUpIGNvbnNvbGUuZXJyb3IoJ05vICNjb250YWN0bWUhJylcbiAgICBjb250YWN0bWUuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3ViamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJqZWN0JylcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGNvbnRhY3RtZS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpXG4gICAgICBjb25zdCBzdWJqZWN0UHJlZml4ID0gJz9zdWJqZWN0PSdcbiAgICAgIGNvbnN0IGkgPSBhY3Rpb24uaW5kZXhPZihzdWJqZWN0UHJlZml4KSArIHN1YmplY3RQcmVmaXgubGVuZ3RoXG4gICAgICBjb250YWN0bWUuc2V0QXR0cmlidXRlKCdhY3Rpb24nLCBhY3Rpb24uc2xpY2UoMCwgaSkgKyBzdWJqZWN0LnZhbHVlKVxuICAgICAgY29uc29sZS5sb2coc3ViamVjdC52YWx1ZSlcbiAgICB9KVxuXG4gICAgY29uc3QgZ3JlZXRpbmcgPSAnSGV5IHRoZXdlYm1hc3RlcnAsIGhlYXIgdGhpcyBqb2tlLiAnXG4gICAgY29uc3Qgam9rZXMgPSBbXG4gICAgICBcIldoYXQgYXJlIGEgc2hhcmsncyB0d28gbW9zdCBmYXZvcml0ZSB3b3Jkcz9cIiwgLy8gTWFuIG92ZXJib2FyZCFcbiAgICAgICdXaHkgYXJlIGdob3N0cyBzdWNoIGJhZCBsaWFycz8nLCAvLyBCZWNhdXNlIHRoZXkgYXJlIGVhc3kgdG8gc2VlIHRocm91Z2guXG4gICAgICAnV2hhdCBkbyB5b3UgY2FsbCBhIHNpbmdpbmcgbGFwdG9wPycsIC8vIEEgRGVsbCFcbiAgICAgICdXaGF0IGRpZCB0aGUgYnVmZmFsbyBzYXkgd2hlbiBoaXMgc29uIGxlZnQgZm9yIGNvbGxlZ2U/JywgLy8gQmlzb24hXG4gICAgICAnV2h5IGRpZCB0aGUgd2ViIGRldmVsb3BlciBkcm93bj8nLCAvLyBIZSBoYWQgdG9vIG1hbnkgYW5jaG9ycy5cbiAgICAgICdXaHkgd2FzIHRoZSBKYXZhU2NyaXB0IHJlYWxpdHkgc2hvdyBjYW5jZWxsZWQgYWZ0ZXIgb25seSBvbmUgZXBpc29kZT8nLCAvLyBQZW9wbGUgdGhvdWdodCBpdCBzZWVtZWQgc2NyaXB0ZWQuXG4gICAgICAnSG93IGNhbiB5b3UgdGVsbCB0aGF0IGEgd2ViIGRldmVsb3BlciBpcyB3b3JraW5nPycsIC8vIFlvdSBjYW4gaGVhciBoaW0gR3J1bnRpbmchXG4gICAgICAnV2h5IGRvZXMgbm8gb25lIGxpa2Ugam9rZXMgYWJvdXQgZGVzY3JpcHRpb25zLCBrZXl3b3Jkcywgb3IgY2hhcmFjdGVyIGVuY29kaW5ncz8nLCAvLyBUaGV54oCZcmUgdG9vIOKAmG1ldGHigJkuXG4gICAgICAnV2h5IGRpZCB0aGUgSVAgY3Jvc3MgdGhlIHN1Ym5ldD8nLCAvLyBCZWNhdXNlIHRoZSBOQVQgc2FpZCB0byFcbiAgICAgICdXaHkgd2FzIHRoZSBjbGFzcyB1cHNldCB0aGF0IGl0cyBwYXJlbnQgZGllZD8nLCAvLyBCZWNhdXNlIGl0IHdvdWxkbuKAmXQgYmUgZ2V0dGluZyB0aGUgaW5oZXJpdGFuY2UhXG4gICAgICAnSG93IGRvIHlvdSBjb21mb3J0IGEgSmF2YVNjcmlwdCBidWc/JywgLy8gWW91IGNvbnNvbGUgaXQuXG4gICAgICAnV2h5IHdhcyB0aGUgd2ViIGRldmVsb3BlciBmaXJlZCBmcm9tIGhlciBqb2I/JywgLy8gU2hlIGRpZCBMZXNzIGV2ZXJ5IGRheS5cbiAgICAgICdIb3cgZG9lcyBhIHdlYiBkZXZlbG9wZXIgbGlrZSBoaXMgY29mZmVlPycsIC8vICMwMDAwMDBcbiAgICAgICdXaHkgZGlkIHRoZSB3ZWIgZGV2ZWxvcGVyIHNlbmQgYSBmZXcgZXh0cmEgYnVja3MgdG8gaGVyIGhvc3RpbmcgcHJvdmlkZXI/JywgLy8gQmVjYXVzZSBzaGUgaGVhcmQgdGhhdCBzaGUgc2hvdWxkIGFsd2F5cyB0aXAgaGVyIHNlcnZlci5cbiAgICAgICdXaHkgY291bGRu4oCZdCB0aGUgcHJvZ3JhbW1lciB3b3JrIGxhdGUgaW50byB0aGUgbmlnaHQ/JywgLy8gU2hlIGRpZG7igJl0IGhhdmUgYSBMQU1QLlxuICAgIF0ubWFwKGpva2UgPT4gYCR7Z3JlZXRpbmd9JHtqb2tlfWApXG5cbiAgICBjb25zdCBwcm9wID0gJ2FscmVhZHlTZWVuSm9rZXMnXG4gICAgbGV0IGFscmVhZHlTZWVuID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwcm9wKSkgfHwgW11cbiAgICBpZiAoYWxyZWFkeVNlZW4ubGVuZ3RoID09PSBqb2tlcy5sZW5ndGgpIHtcbiAgICAgIC8vIElmIGFsbCBqb2tlcyBzZWVuLCByZXNldCB0aGUgdHJhY2tlclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocHJvcCwgSlNPTi5zdHJpbmdpZnkoW10pKVxuICAgICAgYWxyZWFkeVNlZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHByb3ApKVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGFscmVhZHkgc2VlbiBqb2tlc1xuICAgIGFscmVhZHlTZWVuLmZvckVhY2gobiA9PiB7XG4gICAgICBqb2tlcy5zcGxpY2UobiwgMSlcbiAgICB9KVxuICAgIGNvbnN0IHJhbmRvbUpva2VJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGpva2VzLmxlbmd0aClcbiAgICBjb25zdCBuZXdBbHJlYWR5U2VlbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0ocHJvcCkpIHx8IFtdXG4gICAgbmV3QWxyZWFkeVNlZW4ucHVzaChyYW5kb21Kb2tlSW5kZXgpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocHJvcCwgSlNPTi5zdHJpbmdpZnkobmV3QWxyZWFkeVNlZW4pKVxuXG4gICAgLy8gQXBwbHkgdGhlIGNob3NlbiBqb2tlIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHRoZSBtZXNzYWdlXG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpXG4gICAgICAuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIGpva2VzW3JhbmRvbUpva2VJbmRleF0pXG4gIH0gZWxzZSBpZiAoc3AubG9hZCkge1xuICB9IGVsc2UgaWYgKHNwLnVubG9hZCkge1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRhY3RQYWdlXG4iLCJjb25zdCBibG9nID0gc3AgPT4ge1xuICBzcC5sb2coYCR7c3AuZW50cnlOYW1lfSAtICR7c3Auc3RhdHVzfWApXG4gIGlmIChzcC5ET01Db250ZW50TG9hZGVkKSB7XG4gICAgLy8gU2V0IHRoZSBhY3RpdmUgbmF2aWdhdGlvbiBlbnRyeVxuICAgIHNwLnNldEFjdGl2ZU5hdkVudHIoJ2Jsb2dMaW5rJylcbiAgfSBlbHNlIGlmIChzcC5sb2FkKSB7XG4gIH0gZWxzZSBpZiAoc3AudW5sb2FkKSB7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYmxvZ1xuIiwiY29uc3QgYmxvZ1BhZ2UgPSBzcCA9PiB7XG4gIHNwLmxvZyhgJHtzcC5lbnRyeU5hbWV9IC0gJHtzcC5zdGF0dXN9YClcbiAgaWYgKHNwLkRPTUNvbnRlbnRMb2FkZWQpIHtcbiAgICAvLyBSZXBsYWNlIGRlZmF1bHQgc2VjdGlvbiBoZWFkaW5ncyAoYXJjaC8ganMvIGZvciBleGFtcGxlKSB3aXRoIGN1c3RvbSBvbmVzXG4gICAgY29uc3QgbWFwVG8gPSB7XG4gICAgICAnRGVza3RvcCBTZXR1cC8nOiB7XG4gICAgICAgIHRpdGxlOiAnT3B0aW1pemluZyB5b3VyIExpbnV4IGRlc2t0b3Agc2V0dXAgZm9yIHByb2dyYW1taW5nJyxcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgJ0xldCB0aGUgYXJ0aWNsZXMgdW5kZXIgdGhpcyBzZWN0aW9uIGJlIGEgY29tcGVuZGl1bSAtIEFuIGVzc2VuY2Ugb2YgbXkgaGFyZC1sZWFybmVkIGxlc3NvbnMgcmVnYXJkaW5nIExpbnV4IGFuZCBpdHMgY29uZmlndXJhdGlvbiBhcyBhIG1heGltdW0gcHJvZHVjdGl2aXR5LCBwcm9ncmFtbWluZyBkZXNrdG9wIE9TLicsXG4gICAgICB9LFxuICAgICAgJ3dlYm1hc3Rlcl9wcm9qZWN0Lyc6IHtcbiAgICAgICAgdGl0bGU6ICdNYXN0ZXIgSmF2YVNjcmlwdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgIFwiRXZlcnkgSmF2YVNjcmlwdCB0aGluZyB0aGF0IGdvdCBteSBpbnRlcmVzdCBhbmQgaW5zcGlyZWQgbWUsIEknbGwgd3JpdGUgYSBwb3N0IGFib3V0IGl0IGFuZCBpdCB3aWxsIGJlIGxpc3RlZCBoZXJlLlwiLFxuICAgICAgfSxcbiAgICB9XG4gICAgLy8gRG8gaXRcbiAgICBjb25zdCBlbnRyaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2VudHJpZXMgPiB1bCA+IGxpJylcbiAgICBlbnRyaWVzLmZvckVhY2gobGkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbGkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2InKVswXVxuICAgICAgY29uc3QgaW5UYXJnZXQgPSB0YXJnZXQudGV4dENvbnRlbnRcbiAgICAgIE9iamVjdC5rZXlzKG1hcFRvKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGlmIChpblRhcmdldCA9PT0ga2V5KSB7XG4gICAgICAgICAgY29uc3QgdG9SZXBsYWNlVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJylcbiAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IG1hcFRvW2tleV0udGl0bGVcbiAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gbWFwVG9ba2V5XS5kZXNjcmlwdGlvblxuICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcbiAgICAgICAgICBkZXNjcmlwdGlvbldyYXBwZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pXG4gICAgICAgICAgdG9SZXBsYWNlVGFyZ2V0LmFwcGVuZCh0aXRsZSwgZGVzY3JpcHRpb25XcmFwcGVyKVxuICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0b1JlcGxhY2VUYXJnZXQsIHRhcmdldClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9IGVsc2UgaWYgKHNwLmxvYWQpIHtcbiAgfSBlbHNlIGlmIChzcC51bmxvYWQpIHtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBibG9nUGFnZVxuIiwiY29uc3QgYmxvZ0FydGljbGUgPSBzcCA9PiB7XG4gIHNwLmxvZyhgJHtzcC5lbnRyeU5hbWV9IC0gJHtzcC5zdGF0dXN9YClcbiAgaWYgKHNwLkRPTUNvbnRlbnRMb2FkZWQpIHtcbiAgICAvLyBHZXQgZGF0ZSBwYXNzZWQgdGhyb3VnaCBhbiBodG1sIGNvbW1lbnQgaW5zaWRlIDxoZWFkPlxuICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5oZWFkLmlubmVySFRNTFxuICAgICAgLnNwbGl0KCdcXG4nKVsxXVxuICAgICAgLnJlcGxhY2UoLzwhLS0gfCAtLT4vZywgJycpXG5cbiAgICAvLyBHZXQgYXV0aG9yIGFuZCBkZXNjcmlwdGlvbiBmcm9tIHNvbWUgPG1ldGE+cyBpbiA8aGVhZD5cbiAgICBjb25zdCBhdXRob3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJhdXRob3JcIl0nKS5jb250ZW50XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJkZXNjcmlwdGlvblwiXScpXG4gICAgICAuY29udGVudFxuXG4gICAgLy8gU3RydWN0dXJlIHRoZSBmZXRjaGVkIG1ldGFkYXRhIHRvIGJlIGluc2VydGVkIG9uIHRoZSByaWdodCBwbGFjZVxuICAgIGNvbnN0IG1ldGEgPSBgIDxkaXYgaWQ9XCJBcnRpY2xlTWV0YURhdGFcIj5cbkxhc3QgY2hhbmdlOiAke2RhdGV9PGJyPlxuQXV0aG9yOiA8YSBocmVmPVwiL2Fib3V0Lmh0bWxcIj4ke2F1dGhvcn08L2E+XG48L2Rpdj5gXG4gICAgY29uc3QgZGVzY3JpcHRpb25IVE1MID0gYDxwIGlkPVwiZGVzY3JpcHRpb25cIj4ke2Rlc2NyaXB0aW9ufTwvcD5gXG5cbiAgICAvLyBJbnNlcnQgdGhlIG1ldGFkYXRhXG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpXG4gICAgICAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWRlcicpWzBdXG4gICAgaGVhZGVyLmlubmVySFRNTCA9IGhlYWRlci5pbm5lckhUTUwgKyBtZXRhICsgZGVzY3JpcHRpb25IVE1MXG4gIH0gZWxzZSBpZiAoc3AubG9hZCkge1xuICB9IGVsc2UgaWYgKHNwLnVubG9hZCkge1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJsb2dBcnRpY2xlXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY3NzL3N0eWxlLm1pbi5jc3NcIjsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJpY29uR2VuZXJhdG9yIiwibGFiZWwiLCJpbm5lckhUTUwiLCJ0b29sdGlwIiwiaWNvbiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJzdmciLCJjcmVhdGVFbGVtZW50TlMiLCJhcHBlbmQiLCJ4bWwyanNvbiIsInhtbCIsIm9iaiIsImNoaWxkcmVuIiwiaSIsIml0ZW0iLCJub2RlTmFtZSIsInB1c2giLCJvbGQiLCJ0ZXh0Q29udGVudCIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiQ09ORklHIiwiZGVmYXVsdFRoZW1lIiwidGhlbWVBdHRyaWJ1dGUiLCJpY29uc0Jhc2VQYXRoIiwiUnVsZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImNvbmRpdGlvbiIsImFjdGlvbiIsImlkIiwic3RhdGljIiwiYXJyIiwicGF0aCIsInNvbWUiLCJzdHIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJydWxlcyIsInNwIiwiZW50cnlOYW1lIiwic3RhdHVzIiwiYXR0ciIsImNvbmZpZyIsInRoZW1lIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJkb2N1bWVudEVsZW1lbnQiLCJSRU1BUks0MiIsImNoYW5nZVRoZW1lIiwic2V0VGltZW91dCIsIkRPTUNvbnRlbnRMb2FkZWQiLCJib2R5Iiwid2l0aElkT25seSIsIm1hdGNoZWRSdWxlc0xpc3QiLCJmaWx0ZXIiLCJlbnRyeSIsImVyciIsImNvbnRlbnRBbmNob3JzIiwic3BlY0NoYXIiLCJmb3JFYWNoIiwiYSIsImhyZWYiLCJnZXRBdHRyaWJ1dGUiLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJpbmNsdWRlcyIsIm5ld0hyZWYiLCJ0b3BuYXYiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwicXVlcnlTZWxlY3RvckFsbCIsInNpdGUiLCJidG4iLCJvbkNsaWNrIiwiYnV0dG9uIiwibW9vbkljb24iLCJzdW5JY29uIiwiYnRuVGV4dEVsIiwidGhlbWVDaGFuZ2VyIiwiY3VyclRoZW1lRnJvbUF0dHIiLCJ3YXJuIiwiY3VycmVudFRoZW1lIiwicGFyZW50Tm9kZSIsImltZ3MiLCJjb250ZW50IiwiaW1nIiwib3BlbkltYWdlT24iLCJsb2FkIiwicmVtb3ZlIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImxpbmUiLCJzbGljZSIsImNvbmNhdCIsImZvb3RlciIsInNvY21lZGlhIiwic29jaWFsTWVkaWFCb3giLCJjbGFzc05hbWUiLCJvdXRlckhUTUwiLCJpbmZvIiwiZGl2IiwiYXBwZW5kQ2hpbGQiLCJib3R0b20iLCJnZXRFbGVtZW50QnlJZCIsInBvc3RhbWJsZSIsInNvY01lZGlhQm94IiwianNvbiIsImJveCIsIm1hcCIsInByb2ZpbGUiLCJ0aXRsZSIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZW5kIiwicmVzcG9uc2VUZXh0IiwiZXJyb3IiLCJ1bmxvYWQiLCJnZW5Db25kaXQiLCJ3ZWxjb21lVXMiLCJ3ZWxjb21lIiwicGd3IiwiaW5uZXJXaWR0aCIsInN0eWxlIiwib3BhY2l0eSIsInNldEFjdGl2ZU5hdkVudHIiLCJwcmVhbWJsZSIsImNsb25lTm9kZSIsInByZUNvblBvc1dyYXBwZXIiLCJib3hlcyIsIkFycmF5IiwiZmlsbCIsImZpbGxzIiwicGFyYWxsYXhMYXllcnMiLCJwcm90byIsImVsIiwicGFyYWxsYXgiLCJtZSIsInRleHRBYm91dG1lIiwiZmlndXJlIiwicGFyZW50RWxlbWVudCIsImZpZ3VyZUhUTUwiLCJjb250YWN0bWUiLCJzdWJqZWN0Iiwic3ViamVjdFByZWZpeCIsImluZGV4T2YiLCJ2YWx1ZSIsImdyZWV0aW5nIiwiam9rZXMiLCJqb2tlIiwicHJvcCIsImFscmVhZHlTZWVuIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwibiIsInNwbGljZSIsInJhbmRvbUpva2VJbmRleCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm5ld0FscmVhZHlTZWVuIiwibWFwVG8iLCJkZXNjcmlwdGlvbiIsImxpIiwiaW5UYXJnZXQiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwidG9SZXBsYWNlVGFyZ2V0IiwiZGVzY3JpcHRpb25XcmFwcGVyIiwicmVwbGFjZUNoaWxkIiwibWV0YSIsImhlYWQiLCJxdWVyeVNlbGVjdG9yIiwiZGVzY3JpcHRpb25IVE1MIiwiaGVhZGVyIiwibWFpbkNhbGxlciIsImV2ZW50IiwidHlwZSIsInBhdGhuYW1lIiwibWF0Y2hpbmciLCJzdGFydGVyUGFjayIsImh0bWwiLCJ1cmwiLCJmb2N1cyIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9