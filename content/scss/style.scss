/*
 * Local Variables:                
 * mode: scss                      
 * scss-output-directory: "../css" 
 * scss-compile-at-save: t         
 * End:                            
 */

@import './variables';
@import './simplecss';
@import './codeBlocks';

@import './level/0/index';
@import './level/0/about';
@import './level/0/blog';

@import './level/1/article';


html {
	body {
		&.preload {
			// Until the body and it's contents've all fully loaded the DOM tree, do not apply any transitions
			transition: none !important;
			* {
				transition: none !important;
			}
		}
		&>* {
			grid-column: 2;
		}
		margin: 0;
		padding: 0;
		background-color: var(--bg);
		color: var(--text);
		font-family: var(--mono-font);
		font-size: 1.15rem;
		line-height: 1.5;
		display: grid;
		grid-template-columns: 1fr min(63rem, 90%) 1fr;
		transition: background-color 300ms ease-in, color 300ms ease-in;
		#preamble {
			position: sticky;
			top: 0;
			height: 42px;
			width: 100%;
			display: block;
			z-index: 1000;
			#topnav {
				width: 100%;
				height: 100%;
				background-color: transparent;
				display: flex;
				a {
					background-color: var(--accent);
					line-height: 22px;
					display:block;
					padding: 10px 1em 10px 1em;
					text-align: center;
					verical-align: middle;
					font-weight: bold;
					text-decoration-thickness: 2px;
					color: var(--accent-bg);
					&:link, &:visited {
						//color: var(--bg);
					}
					&:hover {
						transition: 300ms background-color !important;
						background-color: var(--code);
					}
					&:active {
						background-color: var(--border);
						cursor: wait;
					}
					&.clicked {
						background-color: var(--code);
						cursor: wait;
					}
					&[data-current] {
						background-color: var(--accent-bg);
						color: var(--code);
						transition: background-color 300ms ease-in;
					}	
				}
				.sparse {
					background-color: var(--accent);
					width: 100%;
					height: 100%;
					display: flex;
					flex-direction: row-reverse;
				}
			}
		}

		#content {
			min-height: calc(100vh - 126px);
			background-color: var(--accent-bg);
			padding: 42px 1em 42px 1em;
			max-width: calc(100vw - 2em);
			z-index: 0;
			transition: background-color 300ms ease-in, color 300ms ease-in;
			img {
				max-width: 100%;
				max-height: 100%;
				cursor: pointer;
			}
			h1, h2, h3, h4, h5, h6 {
				color: var(--preformatted);
			}
			#table-of-contents {
				display: none;
			}
			p {
				cursor: text;
			}
		}

		#postamble {
			footer {
				background-color: var(--disabled);
				border-top: 2px solid var(--accent);
				transition: background-color 300ms ease-in, color 300ms ease-in;
				display: grid;
				grid-template-rows: auto 20vh auto;
				grid-template-columns: auto;
				#socmedia {
					grid-row: 1/2;
				}
				#info {
					grid-row: 2/3;
					display: grid;
					grid-template-rows: auto;
					grid-template-columns: 1fr 1fr 1fr;
				}
				#bottom {
					grid-row: 3/4;
				}
			}
			#remark42 {
				background-color: var(--accent-bg);
				padding: 1em;
				min-height: 400px;
				transition: background-color 300ms ease-in, color 300ms ease-in;
			}
		}

		#preamble, #postamble {
			& .theme-changer {
				height: 42px;
				width: 42px;
				flex-shrink: 0;
				button {
					border-radius: 0 !important;
					width: 100%;
					height: 100%;
					display: flex;
					justify-content: center;
					align-items: center;
					padding: 0;
					margin: 0;
					background-color: transparent;
					&:hover, &:focus {
						background-color: transparent;
						filter: none !important;
						outline: none;
					}
					i {
						justify-content: center;
						align-items: center;
						& > svg {
							width: 30px;
							height: 30px;
							color: var(--accent);
						}	
					}
					.sr-only {
						  height: 1px;
						  width: 1px;
						  overflow: hidden;
						  opacity: 0;
					}
				}
				&.top-level {
					button {
						i > svg {
							color: var(--accent-bg);
						}
					}
				}
			}
		}
	}
	.sun-icon, .moon-icon {
		display: none;
	}
	&[data-theme=light] {
		.sun-icon {
			display: flex !important;
		}
	}
	&[data-theme=dark] {
		.moon-icon {
			display: flex !important;
		}
	}
}

@media only screen and (max-width: 400px) {
	html {
		body {
			grid-template-columns: auto;
			max-width: 100vw;
		}
	}
}

@media only screen and (min-width: 1200px){
	html {
		body {
			#preamble, #postamble {
				.theme-changer {
					&.top-level {
						position: relative;
						left: 42px;
						button {
							i > svg {
								color: var(--accent);
							}
						}
					}
					button {
						i > svg {
							color: var(--accent);
						}
					}
				}
			}
			#content {
				#table-of-contents {
					display: block;
				}
			}
		}
	}
}

html body#article div#content.content nav#table-of-contents {
	font-family: var(--mono-font) !important;
}
